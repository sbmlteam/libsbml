<p>

LibSBML is an application programming interface (API) library for reading,
writing and manipulating files and data streams containing SBML content.
Developers can embed the library in their applications, saving themselves
the work of implementing their own parsing, manipulation and validation
software.  At the API level, the library provides the same interface to
data structures independently of whether the model originated in SBML
Level&nbsp;1, 2 or&nbsp;3.  The library currently also offers the ability
to translate many models between SBML Levels and Versions.

<p>

LibSBML is written in ISO standard C++ and C and is highly portable.  It is
currently supported on the Linux, Mac&nbsp;OS&nbsp;X, and Microsoft Windows
operating systems, but it has been known to run under FreeBSD and Solaris
with little or no modifications.  The library provides language bindings
for C, C++, C#, Java, Python, Perl, MATLAB, Octave, and Ruby.  The package
is distributed in both source-code form and as precompiled dynamic
libraries for the Microsoft Windows, Linux and Apple Mac&nbsp;OS&nbsp;X
operating systems; they are available from the <a
href="http://sourceforge.net/projects/sbml/files/libsbml"><code>sbml</code>
project on SourceForge.net</a>.


<h2>Advantages of a dedicated library for SBML</h2>

Why not simply use a generic XML parsing library?  After all, SBML is
usually expressed in XML, and there exist plenty of XML parsers, so why not
simply tell people to use one of them, rather than develop a specialized
library?  The answer is: while it is true that developers <em>can</em> use
general-purpose XML libraries, there are many reasons why using a system
such as libSBML is a vastly better choice.

<p> 
One of the features of libSBML is its facilities for manipulating
mathematical formulas supporting differences in representation between SBML
Level&nbsp;1 and higher Levels of SBML.  LibSBML provides an API that
allows working with formulas in both text-string and MathML form, and to
interconvert mathematical expressions between these forms.  The utility of
this facility extends beyond converting between SBML Level&nbsp;1 and other
Levels.  Many software packages provide users with the ability to express
formulas for such things as reaction rate expressions, and these packages'
interfaces often let users type in the formulas directly as text strings.
LibSBML saves application programmers the work of developing formula
manipulation and translation functionality.  It makes it possible to
translate those formula strings directly into Abstract Syntax Trees (ASTs),
manipulate them using AST operations, and write them out in the MathML
format of SBML Levels&nbsp;2 and&nbsp;3.

<p>
Another feature of libSBML is the validation it performs on SBML inputs at
the time of parsing files and data streams.  This helps verify the
correctness of models in a way that goes beyond simple syntactic
validation.  Still another invaluable feature of libSBML is the
domain-specific operations it provides beyond simple SBML-specific accessor
facilities.  Examples of such operations include obtaining a count of the
number of boundary condition species, determining the modifier species of a
reaction (assuming the reaction provides kinetics), and constructing the
stoichiometric matrix for all reactions in a model.

<p>
Some of the other features of libSBML include the following:
<ul>

<li>  <em>Full SBML Support</em>.
  All constructs in SBML Level&nbsp;1, 2 and&nbsp;3&nbsp;Core are
  supported.  For compatibility with some technically incorrect but popular
  Level&nbsp;1 applications and models, the parser also recognizes and
  stores notes and annotations defined for the top-level
  <code>&lt;sbml&gt;</code> element (logging a warning).</li>

<li> <em>Unified SBML Level&nbsp;3, Level&nbsp;2
  and Level&nbsp;1 object models</em>.  All objects have
  <code>getSBMLDocument()</code>, <code>getModel()</code>,
  <code>getLevel()</code>, and <code>getVersion()</code> methods, among
  other things.</li>

<li>  <em>Full XML and SBML Validation</em>.
  All XML warnings and errors are logged with line and column number
  information and may be retrieved and manipulated programmatically.</li>

<li>  <em>Dimensional analysis and unit
  checking</em>.  LibSBML implements a thorough system for dimensional
  analysis and checking units of quantities in a model.  The validation
  rules for units that are specified in SBML Level&nbsp;2 Version&nbsp;2
  and Version&nbsp;3, as well as the equivalent warnings defined in SBML
  Level&nbsp;2 Version&nbsp;4 and Level&nbsp;3 Version&nbsp;1, are fully
  implemented, including checking units in mathematical formulas.

<li>  <em>Access to SBML annotations and notes
  as XML objects</em>.  Annotations and notes are read and manipulated as
  XML structures instead of text strings.  Further, in order to facilitate
  the support of <a href="http://biomodels.net/miriam">MIRIAM</a>
  compatible annotations, there are new object classes ModelHistory and
  CVTerm.  These classes facilitate the creation and addition of RDF
  annotations inside <code>&lt;annotation&gt;</code> elements by providing
  parsing and manipulation functions that treat the annotations in terms of
  XMLNode objects implemented by the new XML layer.  Both ModelHistory and
  CVTerm follow the general libSBML format of providing getters and setters
  for each variable stored within the class.</li>

<li> <em>Support for SBO</em>.  The <a
  href="http://biomodels.net/sbo">Systems Biology Ontology (SBO)</a> is a
  machine-readable ontology tailored for computational modeling in systems
  biology.  Annotating a model with SBO terms adds semantic information
  that can permit better software interpretation of the model's
  mathematical structure and (potentially) the ability to translate a model
  between different mathematical frameworks.  LibSBML provides API methods
  for adding and working with SBO terms in SBML models.

<li> <em>Support for compressed SBML files</em>.
  If an SBML file name ends in <code>.gz</code>, <code>.zip</code> or
  <code>.bz2</code>, libSBML will automatically uncompress the file upon
  reading it.  Similarly, if the file to be written has one of those
  extensions, libSBML will write it out in compressed form.  (The
  compression library incorporated by libSBML is <a target="_blank"
  href="http://www.winimage.com/zLibDll/minizip.html">MiniZip 1.01e</a>,
  written by Gilles Vollant and made freely available for all uses
  including commercial applications.)

<li> <em>Parser abstraction layer</em>.
  LibSBML relies on third-party XML parser libraries, but thanks to its
  implementation of an abstraction layer, libSBML can use any of three
  different popular XML parser libraries: Expat, Apache Xerces-C++, and
  Libxml2.  LibSBML provides identical functionality and checking of XML
  syntax is available no matter which one is used.  SBML Documents are
  parsed and manipulated in the Unicode codepage for efficiency; however,
  strings are transcoded to the local code page for SBML structures.</li>

<li> <em>Convenience methods</em>.  LibSBML
  provides many other useful methods, such as for obtaining a count of the
  number of boundary condition species, determining the modifier species of
  a reaction (assuming the reaction provides kinetics), and more.

<li>  <em>Small memory footprint and fast runtime</em>.
  The parser is event-based (SAX2) and loads SBML data into C++ structures
  that mirror the SBML specification.
      
<li>  <em>Interfaces for C, C++, C#, Java, Python,
  Perl, MATLAB, Octave, and Ruby</em>.  The C and C++ interfaces are
  implemented natively; the C#, Java, Perl, Python, and Ruby interfaces are
  implemented using <a href="http://www.swig.org">SWIG</a>, the Simplified
  Wrapper Interface Generator; and the MATLAB and Octave interfaces are
  implemented through custom hand-written code.

<li> <em>Well tested: libSBML has over
  4300 unit tests containing a total of over 17,000 individual
  assertions</em>.  In addition to these tests, libSBML 
  contains over 4400 individually hand-written SBML XML files containing
  different variations of correct and incorrect SBML and XML syntax.  The
  entire library was written using the test-first approach popularized by
  Kent Beck and eXtreme Programming, where it's one of the 12
  principles.</li>
    
<li>  <em>Written in portable, pure ISO C and
  C++</em>. The build system uses GNU tools (<a target="_blank"
  href="http://www.gnu.org/software/autoconf/">Autoconf</a>, <a
  target="_blank" href="http://www.gnu.org/software/make/">GNU Make</a>) to
  build shared and static libraries.</li>

<li>  <em>Complete user
  manual</em>. Documentation is available in the "docs" subdirectory in
  both pre-formatted and source form.</li>
</ul>


<h2>Manipulating mathematical formulas</h2>

<p> In SBML Level&nbsp;1, mathematical formulas are represented as text
strings using a C-like syntax.  This representation was chosen because of
its simplicity, widespread familiarity and use in applications such as
Gepasi and Jarnac, whose authors contributed to the initial design of SBML.
In SBML Levels&nbsp;2 and&nbsp;3, there was a need to expand the
mathematical vocabulary of Level&nbsp;1 to include additional functions
(both built-in and user-defined), mathematical constants, logical
operators, relational operators and a special symbol to represent time.
Rather than growing the simple C-like syntax into something more
complicated and esoteric in order to support these features, and
consequently having to manage two standards in two different formats (XML
and text string formulas), SBML Levels&nbsp;2 and&nbsp;3 leverage an
existing standard for expressing mathematical formulas, namely the content
portion of <a href="http://www.w3.org/Math/">MathML</a>.

<p>
LibSBML provides an abstraction for working with mathematical expressions
in both text-string and MathML form: Abstract Syntax Trees (ASTs).  <a
href="http://en.wikipedia.org/wiki/Abstract_syntax_tree">Abstract Syntax
Trees</a> are well-known in the computer science community; they are simple
recursive data structures useful for representing the syntactic structure
of sentences in certain kinds of languages (mathematical or otherwise).
Much as libSBML allows programmers to manipulate SBML at the level of
domain-specific objects, regardless of SBML Level or version, it also
allows programmers to work with mathematical formula at the level of ASTs
regardless of whether the original format was C-like infix or MathML.
LibSBML goes one step further by allowing programmers to work exclusively
with infix formula strings and instantly convert them to the appropriate
MathML whenever needed.
