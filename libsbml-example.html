<!-- HTML header for Doxygen -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<title>libSBML C++ API: Tutorial: creating a complete model</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="sbml.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js"></script>
<link href="libsbml-doxygen-stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">libSBML C++ API
   &#160;<span id="projectnumber">5.20.4</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('libsbml-example.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Tutorial: creating a complete model </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#characteristics">General characteristics of the model to be created</a></li>
<li class="level1"><a href="#code">The program for creating the model</a><ul><li class="level2"><a href="#creator">Function for creating the model</a></li>
<li class="level2"><a href="#validating">Function for verifying the model</a></li>
<li class="level2"><a href="#writing">Function for writing the model</a></li>
</ul>
</li>
<li class="level1"><a href="#source">Source code</a></li>
</ul>
</div>
<div class="textblock"><p>This section presents a complete example program in C++ demonstrating how to create a complete SBML Level&#160;2 model programmatically and then writing the result to a file.</p>
<h1><a class="anchor" id="characteristics"></a>
General characteristics of the model to be created</h1>
<p>The model presented here is the one described in Section&#160;7.1 of the <a href="http://sbml.org/Documents/Specifications" target="_blank">SBML Level&#160;2 Version&#160;4 specification</a>. It consists of four species identified simply as <em>E</em>, <em>S</em>, <em>ES</em>, and <em>P</em>; one compartment identified as <em>cytosol</em>; and two reactions (one reversible, one irreversible) described by the following equation:</p>
<figure>
  <object type="image/svg+xml" data="enzyme-reaction-equation.svg" class="centered"></object>
</figure>
<p>From these equations, it becomes clear that the model also contains three parameters: <em>k<sub>on</sub></em>, <em>k<sub>off</sub></em>, and <em>k<sub>cat</sub></em>.</p>
<p>We will need to assign initial values to these parameters, as well as to the size of the compartment and the initial quantities of the species. Since this model is only meant to illustrate the principles of programming with libSBML, and does not represent an actual biological entity, we hope readers will forgive us for not worrying about justifying the parameter values on the basis of biological plausibility. The table of values for all the quantities we will use is shown below:</p>
<center> <table border="0" class="text-table normal-font alt-row-colors">
<tr style="background: lightgray; font-size: 14px;">
<th align="left">Entity in the Model </th><th align="left">Initial value </th><th align="left">Units  </th></tr>
<tr>
<td><em>cytosol</em></td><td>1 \(\times\) 10<sup>-14</sup></td><td>litres </td></tr>
<tr>
<td><em>S</em></td><td>1 \(\times\) 10<sup>-20</sup></td><td>moles </td></tr>
<tr>
<td><em>P</em></td><td>0</td><td>moles </td></tr>
<tr>
<td><em>E</em></td><td>1 \(\times\) 10<sup>-21</sup></td><td>moles </td></tr>
<tr>
<td><em>ES</em></td><td>0</td><td>moles </td></tr>
<tr>
<td><em>k<sub>on</sub></em></td><td>1 000 000</td><td>litre/mole/second </td></tr>
<tr>
<td><em>k<sub>off</sub></em></td><td>0.2</td><td>1/second </td></tr>
<tr>
<td><em>k<sub>cat</sub></em></td><td>0.1</td><td>1/second </td></tr>
</table>
</center><p>To add some spice to our boring (but instructive) example, we will use substance units instead of concentration units for the initial values of the species. This is reflected in the use of moles instead of moles/litre as the species quantity units in the table above.</p>
<h1><a class="anchor" id="code"></a>
The program for creating the model</h1>
<p>To begin, our program has to include certain header files needed by libSBML under C++. For convenience, we will also set the default C++ namespace to <code>std</code> so that we do not have to prefix common C++ functions used throughout our code.</p>
<div class="fragment"><div class="line"><span class="comment">/**</span></div>
<div class="line"><span class="comment"> * File:        example.cpp</span></div>
<div class="line"><span class="comment"> * Description: Create an example model.</span></div>
<div class="line"><span class="comment"> * Author:      Akiya Jouraku</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="_s_b_m_l_types_8h.html">sbml/SBMLTypes.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">using namespace </span>std;</div>
<div class="ttc" id="a_s_b_m_l_types_8h_html"><div class="ttname"><a href="_s_b_m_l_types_8h.html">SBMLTypes.h</a></div><div class="ttdoc">Include all SBML types in a single header file.</div></div>
</div><!-- fragment --><p>The next few lines of our program will not be used until the end of the program, but the relevant definitions are best put near the beginning as a principle of good programming. Specifically, this is the definition of a program name and version number, to be inserted by libSBML as XML comments into the final SBML file. We will do something very simple here and define the relevant values as global parameters; other approaches are possible.</p>
<div class="fragment"><div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// These variables are used in writeExampleSBML when writing an SBML</span></div>
<div class="line"><span class="comment">// document.  They are handed to libSBML functions in order to include</span></div>
<div class="line"><span class="comment">// the program information into comments within the SBML file.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="keyword">const</span> <span class="keyword">static</span> <span class="keywordtype">string</span> ProgramName    = <span class="stringliteral">&quot;createExample&quot;</span>;</div>
<div class="line"><span class="keyword">const</span> <span class="keyword">static</span> <span class="keywordtype">string</span> ProgramVersion = <span class="stringliteral">&quot;1.0.0&quot;</span>;</div>
</div><!-- fragment --><p>We need a few forward declarations for helper functions. Here they are:</p>
<div class="fragment"><div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// Forward declarations for functions defined below.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><a class="code" href="class_s_b_m_l_document.html">SBMLDocument</a>* createExampleEnzymaticReaction();</div>
<div class="line"><span class="keywordtype">bool</span> validateExampleSBML(<a class="code" href="class_s_b_m_l_document.html">SBMLDocument</a> *sbmlDoc);</div>
<div class="line"><span class="keywordtype">bool</span> writeExampleSBML(<span class="keyword">const</span> <a class="code" href="class_s_b_m_l_document.html">SBMLDocument</a> *sbmlDoc, <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; filename);</div>
<div class="ttc" id="aclass_s_b_m_l_document_html"><div class="ttname"><a href="class_s_b_m_l_document.html">SBMLDocument</a></div><div class="ttdef"><b>Definition:</b> SBMLDocument.h:351</div></div>
</div><!-- fragment --><p>Now we can define a main routine for the program. This essentially acts as scaffolding for calling worker functions and dealing with overall errors.</p>
<div class="fragment"><div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// Main routine</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="keywordtype">int</span></div>
<div class="line">main (<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[])</div>
<div class="line">{</div>
<div class="line">  <a class="code" href="class_s_b_m_l_document.html">SBMLDocument</a>* sbmlDoc = 0;</div>
<div class="line">  <span class="keywordtype">bool</span> isValid          = <span class="keyword">false</span>;</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">try</span></div>
<div class="line">  {</div>
<div class="line">    sbmlDoc = createExampleEnzymaticReaction(); </div>
<div class="line">    isValid = validateExampleSBML(sbmlDoc);</div>
<div class="line">    <span class="keywordflow">if</span> (isValid) writeExampleSBML(sbmlDoc, <span class="stringliteral">&quot;enzymaticreaction.xml&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Avoid memory leaks.</span></div>
<div class="line">    <span class="keyword">delete</span> sbmlDoc;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Return non-zero to indicate if a problem occurred.</span></div>
<div class="line">    <span class="keywordflow">if</span> (!isValid) <span class="keywordflow">return</span> 1;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">catch</span> (std::bad_alloc&amp; e)</div>
<div class="line">  {</div>
<div class="line">    cerr &lt;&lt; e.what() &lt;&lt; <span class="stringliteral">&quot;: Unable to allocate memory.&quot;</span> &lt;&lt; endl;</div>
<div class="line">    <span class="keywordflow">return</span> 1;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">catch</span> (...)</div>
<div class="line">  {</div>
<div class="line">    cerr &lt;&lt; <span class="stringliteral">&quot;Unexpected exceptional condition encountered.&quot;</span> &lt;&lt; endl;</div>
<div class="line">    <span class="keywordflow">return</span> 1;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// A 0 return status is the standard Unix/Linux way to say &quot;all ok&quot;.</span></div>
<div class="line">  <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --><p>The code above has three key functions, <code>createExampleEnzymaticReaction()</code>, <code>validateExampleSBML</code>, and <code>writeExampleSBML()</code>, which do all the real work in the program. Their verbose names hopefully imply their functions. They are described and defined in the next three subsections.</p>
<h2><a class="anchor" id="creator"></a>
Function for creating the model</h2>
<p>We begin this function by creating an <a class="el" href="class_s_b_m_l_document.html">SBMLDocument </a> object, creating a <a class="el" href="class_model.html">Model </a> object within the document object, and setting the <a class="el" href="class_model.html">Model </a> object's identifier.</p>
<div class="fragment"><div class="line"><span class="comment">/**</span></div>
<div class="line"><span class="comment"> * Create an SBML model represented in &quot;7.1 A Simple example application</span></div>
<div class="line"><span class="comment"> * of SBML&quot; in the SBML Level 2 Version 4 Specification.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><a class="code" href="class_s_b_m_l_document.html">SBMLDocument</a>* createExampleEnzymaticReaction()</div>
<div class="line">{</div>
<div class="line">  <span class="comment">// Create an SBMLDocument object in Level 2 Version 4 format:</span></div>
<div class="line"> </div>
<div class="line">  <a class="code" href="class_s_b_m_l_document.html">SBMLDocument</a>* sbmlDoc = <span class="keyword">new</span> <a class="code" href="class_s_b_m_l_document.html">SBMLDocument</a>(2, 4);</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Create a Model object inside the SBMLDocument object and set its</span></div>
<div class="line">  <span class="comment">// identifier:</span></div>
<div class="line"> </div>
<div class="line">  <a class="code" href="class_model.html">Model</a>* model = sbmlDoc-&gt;<a class="code" href="class_s_b_m_l_document.html#a2240e2070ddf9225e3bd8b1a94106a1a">createModel</a>();</div>
<div class="line">  model-&gt;<a class="code" href="class_model.html#a9f5805553e7d385ced27c4065fa190fe">setId</a>(<span class="stringliteral">&quot;EnzymaticReaction&quot;</span>);</div>
<div class="ttc" id="aclass_model_html"><div class="ttname"><a href="class_model.html">Model</a></div><div class="ttdef"><b>Definition:</b> Model.h:485</div></div>
<div class="ttc" id="aclass_model_html_a9f5805553e7d385ced27c4065fa190fe"><div class="ttname"><a href="class_model.html#a9f5805553e7d385ced27c4065fa190fe">Model::setId</a></div><div class="ttdeci">virtual int setId(const std::string &amp;sid)</div><div class="ttdoc">Sets the value of the &quot;id&quot; attribute of this Model.</div><div class="ttdef"><b>Definition:</b> Model.cpp:717</div></div>
<div class="ttc" id="aclass_s_b_m_l_document_html_a2240e2070ddf9225e3bd8b1a94106a1a"><div class="ttname"><a href="class_s_b_m_l_document.html#a2240e2070ddf9225e3bd8b1a94106a1a">SBMLDocument::createModel</a></div><div class="ttdeci">Model * createModel(const std::string sid=&quot;&quot;)</div><div class="ttdoc">Creates a new Model inside this SBMLDocument, and returns a pointer to it.</div><div class="ttdef"><b>Definition:</b> SBMLDocument.cpp:627</div></div>
</div><!-- fragment --><p>Next, we need to define some units in order to properly characterize the quantities used in the model. The libSBML API for unit definitions mirrors the SBML object model, which means there is an object class for <a class="el" href="class_unit_definition.html">UnitDefinition</a> and an object class for the <a class="el" href="class_unit.html">Unit</a> objects that can be placed inside a <a class="el" href="class_unit_definition.html">UnitDefinition </a> object to compose whatever unit is desired. The resulting code for creating units is a little bit tedious because there is a lot to set up, but on the other hand, it is quite straightforward and hopefully easy to follow:</p>
<div class="fragment"><div class="line"><span class="comment">// Temporary pointers (reused more than once below).</span></div>
<div class="line"> </div>
<div class="line"><a class="code" href="class_unit_definition.html">UnitDefinition</a>* unitdef;</div>
<div class="line"><a class="code" href="class_unit.html">Unit</a>* unit;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// (UnitDefinition 1) Create a UnitDefinition object for &quot;per_second&quot;.</span></div>
<div class="line"> </div>
<div class="line">unitdef = model-&gt;<a class="code" href="class_model.html#a3c105a7f5362459eee4e765f7429d5b7">createUnitDefinition</a>();</div>
<div class="line">unitdef-&gt;<a class="code" href="class_unit_definition.html#a6dfedd750842ff04e2dde978aa33c1a5">setId</a>(<span class="stringliteral">&quot;per_second&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Create an Unit inside the UnitDefinition object above:</span></div>
<div class="line"> </div>
<div class="line">unit = unitdef-&gt;<a class="code" href="class_unit_definition.html#a9aec537af2a08b6d6a0a88aa0d81cc75">createUnit</a>();</div>
<div class="line">unit-&gt;<a class="code" href="class_unit.html#ae14e986773fdaaa054fd032d77038188">setKind</a>(<a class="code" href="_unit_kind_8h.html#a9597e6a39c3bb3fde6ff0073f47f1804af216da697f90e178377cc6f470a24fc6">UNIT_KIND_SECOND</a>);</div>
<div class="line">unit-&gt;<a class="code" href="class_unit.html#ae35090a7e1dbd3bd31abd7d42435fb23">setExponent</a>(-1);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// (UnitDefinition 2) Create a UnitDefinition object for</span></div>
<div class="line"><span class="comment">// &quot;litre_per_mole_per_second&quot;.  Note that we can reuse the pointers</span></div>
<div class="line"><span class="comment">// &#39;unitdef&#39; and &#39;unit&#39; because the actual UnitDefinition object</span></div>
<div class="line"><span class="comment">// (along with the Unit objects within it) is already attached to</span></div>
<div class="line"><span class="comment">// the Model object. (Refer to the first two lines above.)</span></div>
<div class="line">  </div>
<div class="line">unitdef = model-&gt;<a class="code" href="class_model.html#a3c105a7f5362459eee4e765f7429d5b7">createUnitDefinition</a>();</div>
<div class="line">unitdef-&gt;<a class="code" href="class_unit_definition.html#a6dfedd750842ff04e2dde978aa33c1a5">setId</a>(<span class="stringliteral">&quot;litre_per_mole_per_second&quot;</span>);</div>
<div class="line">  </div>
<div class="line"><span class="comment">// Create individual unit objects that will be put inside</span></div>
<div class="line"><span class="comment">// the UnitDefinition to compose &quot;litre_per_mole_per_second&quot;.</span></div>
<div class="line"> </div>
<div class="line">unit = unitdef-&gt;<a class="code" href="class_unit_definition.html#a9aec537af2a08b6d6a0a88aa0d81cc75">createUnit</a>();</div>
<div class="line">unit-&gt;<a class="code" href="class_unit.html#ae14e986773fdaaa054fd032d77038188">setKind</a>(<a class="code" href="_unit_kind_8h.html#a9597e6a39c3bb3fde6ff0073f47f1804ace9d224250f92f90e72e6117fb26dbe0">UNIT_KIND_MOLE</a>);</div>
<div class="line">unit-&gt;<a class="code" href="class_unit.html#ae35090a7e1dbd3bd31abd7d42435fb23">setExponent</a>(-1);</div>
<div class="line"> </div>
<div class="line">unit = unitdef-&gt;<a class="code" href="class_unit_definition.html#a9aec537af2a08b6d6a0a88aa0d81cc75">createUnit</a>();</div>
<div class="line">unit-&gt;<a class="code" href="class_unit.html#ae14e986773fdaaa054fd032d77038188">setKind</a>(<a class="code" href="_unit_kind_8h.html#a9597e6a39c3bb3fde6ff0073f47f1804a4204c5693f8dcc2962dbb19d2c1d0cac">UNIT_KIND_LITRE</a>);</div>
<div class="line">unit-&gt;<a class="code" href="class_unit.html#ae35090a7e1dbd3bd31abd7d42435fb23">setExponent</a>(1);</div>
<div class="line"> </div>
<div class="line">unit = unitdef-&gt;<a class="code" href="class_unit_definition.html#a9aec537af2a08b6d6a0a88aa0d81cc75">createUnit</a>();</div>
<div class="line">unit-&gt;<a class="code" href="class_unit.html#ae14e986773fdaaa054fd032d77038188">setKind</a>(<a class="code" href="_unit_kind_8h.html#a9597e6a39c3bb3fde6ff0073f47f1804af216da697f90e178377cc6f470a24fc6">UNIT_KIND_SECOND</a>);</div>
<div class="line">unit-&gt;<a class="code" href="class_unit.html#ae35090a7e1dbd3bd31abd7d42435fb23">setExponent</a>(-1);</div>
<div class="ttc" id="a_unit_kind_8h_html_a9597e6a39c3bb3fde6ff0073f47f1804a4204c5693f8dcc2962dbb19d2c1d0cac"><div class="ttname"><a href="_unit_kind_8h.html#a9597e6a39c3bb3fde6ff0073f47f1804a4204c5693f8dcc2962dbb19d2c1d0cac">UNIT_KIND_LITRE</a></div><div class="ttdeci">@ UNIT_KIND_LITRE</div><div class="ttdef"><b>Definition:</b> UnitKind.h:80</div></div>
<div class="ttc" id="a_unit_kind_8h_html_a9597e6a39c3bb3fde6ff0073f47f1804ace9d224250f92f90e72e6117fb26dbe0"><div class="ttname"><a href="_unit_kind_8h.html#a9597e6a39c3bb3fde6ff0073f47f1804ace9d224250f92f90e72e6117fb26dbe0">UNIT_KIND_MOLE</a></div><div class="ttdeci">@ UNIT_KIND_MOLE</div><div class="ttdef"><b>Definition:</b> UnitKind.h:85</div></div>
<div class="ttc" id="a_unit_kind_8h_html_a9597e6a39c3bb3fde6ff0073f47f1804af216da697f90e178377cc6f470a24fc6"><div class="ttname"><a href="_unit_kind_8h.html#a9597e6a39c3bb3fde6ff0073f47f1804af216da697f90e178377cc6f470a24fc6">UNIT_KIND_SECOND</a></div><div class="ttdeci">@ UNIT_KIND_SECOND</div><div class="ttdef"><b>Definition:</b> UnitKind.h:90</div></div>
<div class="ttc" id="aclass_model_html_a3c105a7f5362459eee4e765f7429d5b7"><div class="ttname"><a href="class_model.html#a3c105a7f5362459eee4e765f7429d5b7">Model::createUnitDefinition</a></div><div class="ttdeci">UnitDefinition * createUnitDefinition()</div><div class="ttdoc">Creates a new UnitDefinition inside this Model and returns it.</div><div class="ttdef"><b>Definition:</b> Model.cpp:1459</div></div>
<div class="ttc" id="aclass_unit_definition_html"><div class="ttname"><a href="class_unit_definition.html">UnitDefinition</a></div><div class="ttdef"><b>Definition:</b> UnitDefinition.h:282</div></div>
<div class="ttc" id="aclass_unit_definition_html_a6dfedd750842ff04e2dde978aa33c1a5"><div class="ttname"><a href="class_unit_definition.html#a6dfedd750842ff04e2dde978aa33c1a5">UnitDefinition::setId</a></div><div class="ttdeci">virtual int setId(const std::string &amp;sid)</div><div class="ttdoc">Sets the value of the &quot;id&quot; attribute of this UnitDefinition.</div><div class="ttdef"><b>Definition:</b> UnitDefinition.cpp:237</div></div>
<div class="ttc" id="aclass_unit_definition_html_a9aec537af2a08b6d6a0a88aa0d81cc75"><div class="ttname"><a href="class_unit_definition.html#a9aec537af2a08b6d6a0a88aa0d81cc75">UnitDefinition::createUnit</a></div><div class="ttdeci">Unit * createUnit()</div><div class="ttdoc">Creates a new and empty Unit, adds it to this UnitDefinition's list of units, and returns it.</div><div class="ttdef"><b>Definition:</b> UnitDefinition.cpp:682</div></div>
<div class="ttc" id="aclass_unit_html"><div class="ttname"><a href="class_unit.html">Unit</a></div><div class="ttdef"><b>Definition:</b> Unit.h:231</div></div>
<div class="ttc" id="aclass_unit_html_ae14e986773fdaaa054fd032d77038188"><div class="ttname"><a href="class_unit.html#ae14e986773fdaaa054fd032d77038188">Unit::setKind</a></div><div class="ttdeci">int setKind(UnitKind_t kind)</div><div class="ttdoc">Sets the &quot;kind&quot; attribute value of this Unit.</div><div class="ttdef"><b>Definition:</b> Unit.cpp:755</div></div>
<div class="ttc" id="aclass_unit_html_ae35090a7e1dbd3bd31abd7d42435fb23"><div class="ttname"><a href="class_unit.html#ae35090a7e1dbd3bd31abd7d42435fb23">Unit::setExponent</a></div><div class="ttdeci">int setExponent(int value)</div><div class="ttdoc">Sets the &quot;exponent&quot; attribute value of this Unit.</div><div class="ttdef"><b>Definition:</b> Unit.cpp:774</div></div>
</div><!-- fragment --><p>Before going on, we digress to explain one libSBML API idiom illustrated in the code above and in the rest of the program below. LibSBML provides two main mechanisms for creating objects: class constructors (e.g., <a class="el" href="class_unit.html#a25b1579988da10c9ee250c0ca5a16b9b">Unit() </a>), and <code>create<span class="placeholder-nospace"><em>Object</em></span>()</code> methods provided by certain object classes such as <a class="el" href="class_model.html">Model </a>, where <span class="placeholder-nospace"><em>Object</em></span> is another object class such as <a class="el" href="class_unit_definition.html">UnitDefinition </a>. The multiple mechanisms are provided by libSBML for flexibility and to support different use-cases, but they also have different implications for the overall model structure.</p>
<p>In general, the recommended approach is to use the <code>create<span class="placeholder-nospace"><em>Object</em></span>()</code> methods, as in the calls to <a class="el" href="class_unit_definition.html#a9aec537af2a08b6d6a0a88aa0d81cc75" title="Creates a new and empty Unit, adds it to this UnitDefinition&#39;s list of units, and returns it.">UnitDefinition::createUnit()</a> above. These methods create an instance and immediately link it into the parent, as well as return a pointer to the object created. By contrast, the other main way of creating an object involves first using the class constructor (e.g., <a class="el" href="class_unit.html#a25b1579988da10c9ee250c0ca5a16b9b">Unit() </a>) to create an object instance, and then calling an <code>add<span class="placeholder-nospace"><em>Object</em></span>(...)</code> method to add the instance to another object. However, the <code>add<span class="placeholder-nospace"><em>Object</em></span>(...)</code> methods in libSBML <em>copy</em> the object instance given to them. The result is that the caller has to be careful about making changes to the object: changes to the original will not affect the copy added to the model by the <code>add<span class="placeholder-nospace"><em>Object</em></span>(...)</code> method, and moreover, the original must be explicitly deleted at some point or else the program will leak memory. In summary, unless special circumstances apply, most applications are best served using the various <code>create<span class="placeholder-nospace"><em>Object</em></span>()</code> methods.</p>
<p>Back to the example now, we create a compartment object:</p>
<div class="fragment"><div class="line"><span class="comment">// Create a string for the identifier of the compartment.  This</span></div>
<div class="line"><span class="comment">// will be used again later, so it&#39;s worth defining a constant here.</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">string</span> compName = <span class="stringliteral">&quot;cytosol&quot;</span>;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Create a Compartment object (&quot;cytosol&quot;)</span></div>
<div class="line"> </div>
<div class="line"><a class="code" href="class_compartment.html">Compartment</a>* comp = model-&gt;<a class="code" href="class_model.html#aefe76cdc808d929b588d793e3d550115">createCompartment</a>();</div>
<div class="line">comp-&gt;<a class="code" href="class_compartment.html#adcf670534ab78dc0f42140a399f91935">setId</a>(compName);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Set the &quot;size&quot; attribute of the Compartment object.  We are not</span></div>
<div class="line"><span class="comment">// setting the units on the compartment size explicitly, so the units</span></div>
<div class="line"><span class="comment">// of this Compartment object will be the default SBML units of volume,</span></div>
<div class="line"><span class="comment">// which are liters.</span></div>
<div class="line"> </div>
<div class="line">comp-&gt;<a class="code" href="class_compartment.html#aeb3f4cd2ee648784230973ee7e45af6f">setSize</a>(1e-14);</div>
<div class="ttc" id="aclass_compartment_html"><div class="ttname"><a href="class_compartment.html">Compartment</a></div><div class="ttdef"><b>Definition:</b> Compartment.h:490</div></div>
<div class="ttc" id="aclass_compartment_html_adcf670534ab78dc0f42140a399f91935"><div class="ttname"><a href="class_compartment.html#adcf670534ab78dc0f42140a399f91935">Compartment::setId</a></div><div class="ttdeci">virtual int setId(const std::string &amp;sid)</div><div class="ttdoc">Sets the value of the &quot;id&quot; attribute of this Compartment object.</div><div class="ttdef"><b>Definition:</b> Compartment.cpp:479</div></div>
<div class="ttc" id="aclass_compartment_html_aeb3f4cd2ee648784230973ee7e45af6f"><div class="ttname"><a href="class_compartment.html#aeb3f4cd2ee648784230973ee7e45af6f">Compartment::setSize</a></div><div class="ttdeci">int setSize(double value)</div><div class="ttdoc">Sets the &quot;size&quot; attribute (or &quot;volume&quot; in SBML Level&amp;#160;1) of this Compartment object.</div><div class="ttdef"><b>Definition:</b> Compartment.cpp:603</div></div>
<div class="ttc" id="aclass_model_html_aefe76cdc808d929b588d793e3d550115"><div class="ttname"><a href="class_model.html#aefe76cdc808d929b588d793e3d550115">Model::createCompartment</a></div><div class="ttdeci">Compartment * createCompartment()</div><div class="ttdoc">Creates a new Compartment inside this Model and returns it.</div><div class="ttdef"><b>Definition:</b> Model.cpp:1558</div></div>
</div><!-- fragment --><p>Next, we turn to the species definitions in the model. For each species, the program needs to set an identifier, the compartment in which it's located, and optionally the initial quantity of the species in the compartment.</p>
<div class="fragment"><div class="line"><span class="comment">// Temporary pointer (reused more than once below).</span></div>
<div class="line"> </div>
<div class="line"><a class="code" href="class_species.html">Species</a> *sp;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Create the Species objects inside the Model object. </span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// (Species1 ) Create a Species object for species &quot;ES&quot;, and set its</span></div>
<div class="line"><span class="comment">// compartment attribute to be the &quot;cytosol&quot; compartment in the model.</span></div>
<div class="line"> </div>
<div class="line">sp = model-&gt;<a class="code" href="class_model.html#aaafcd74740d9cad9e2526467f6019d1e">createSpecies</a>();</div>
<div class="line">sp-&gt;<a class="code" href="class_species.html#a08e7a08032714aa51a2fcbafcc304de0">setCompartment</a>(compName);</div>
<div class="line">sp-&gt;<a class="code" href="class_species.html#ac1f8c4724b30a8a060056dfe61528480">setId</a>(<span class="stringliteral">&quot;ES&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Set the &quot;initialAmount&quot; attribute of the Species object.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">//  In SBML, the units of a Species object&#39;s initial quantity are</span></div>
<div class="line"><span class="comment">//  determined by two attributes, &quot;substanceUnits&quot; and</span></div>
<div class="line"><span class="comment">//  &quot;hasOnlySubstanceUnits&quot;, and the &quot;spatialDimensions&quot; attribute</span></div>
<div class="line"><span class="comment">//  of the Compartment object (&quot;cytosol&quot;) in which the species</span></div>
<div class="line"><span class="comment">//  object is located.  Here, we are using the default values for</span></div>
<div class="line"><span class="comment">//  &quot;substanceUnits&quot; (which is &quot;mole&quot;) and &quot;hasOnlySubstanceUnits&quot;</span></div>
<div class="line"><span class="comment">//  (which is &quot;false&quot;).  The compartment in which the species is</span></div>
<div class="line"><span class="comment">//  located uses volume units of liters, so the units of these</span></div>
<div class="line"><span class="comment">//  species (when the species appear in numerical formulas in the</span></div>
<div class="line"><span class="comment">//  model) will be moles/liter.  </span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line">sp-&gt;<a class="code" href="class_species.html#a694f7556f2b8ec220a29199537aa3f66">setInitialAmount</a>(0);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// (Species 2) Create a Species object for &quot;P&quot;</span></div>
<div class="line"> </div>
<div class="line">sp = model-&gt;<a class="code" href="class_model.html#aaafcd74740d9cad9e2526467f6019d1e">createSpecies</a>();</div>
<div class="line">sp-&gt;<a class="code" href="class_species.html#a08e7a08032714aa51a2fcbafcc304de0">setCompartment</a>(compName);</div>
<div class="line">sp-&gt;<a class="code" href="class_species.html#ac1f8c4724b30a8a060056dfe61528480">setId</a>(<span class="stringliteral">&quot;P&quot;</span>);</div>
<div class="line">sp-&gt;<a class="code" href="class_species.html#a694f7556f2b8ec220a29199537aa3f66">setInitialAmount</a>(0);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// (Species3) Create a Species object for &quot;S&quot;</span></div>
<div class="line"> </div>
<div class="line">sp = model-&gt;<a class="code" href="class_model.html#aaafcd74740d9cad9e2526467f6019d1e">createSpecies</a>();</div>
<div class="line">sp-&gt;<a class="code" href="class_species.html#a08e7a08032714aa51a2fcbafcc304de0">setCompartment</a>(compName);</div>
<div class="line">sp-&gt;<a class="code" href="class_species.html#ac1f8c4724b30a8a060056dfe61528480">setId</a>(<span class="stringliteral">&quot;S&quot;</span>);</div>
<div class="line">sp-&gt;<a class="code" href="class_species.html#a694f7556f2b8ec220a29199537aa3f66">setInitialAmount</a>(1e-20);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// (Species4) Create a Species object for &quot;E&quot;</span></div>
<div class="line"> </div>
<div class="line">sp = model-&gt;<a class="code" href="class_model.html#aaafcd74740d9cad9e2526467f6019d1e">createSpecies</a>();</div>
<div class="line">sp-&gt;<a class="code" href="class_species.html#a08e7a08032714aa51a2fcbafcc304de0">setCompartment</a>(compName);</div>
<div class="line">sp-&gt;<a class="code" href="class_species.html#ac1f8c4724b30a8a060056dfe61528480">setId</a>(<span class="stringliteral">&quot;E&quot;</span>);</div>
<div class="line">sp-&gt;<a class="code" href="class_species.html#a694f7556f2b8ec220a29199537aa3f66">setInitialAmount</a>(5e-21 );</div>
<div class="ttc" id="aclass_model_html_aaafcd74740d9cad9e2526467f6019d1e"><div class="ttname"><a href="class_model.html#aaafcd74740d9cad9e2526467f6019d1e">Model::createSpecies</a></div><div class="ttdeci">Species * createSpecies()</div><div class="ttdoc">Creates a new Species inside this Model and returns it.</div><div class="ttdef"><b>Definition:</b> Model.cpp:1586</div></div>
<div class="ttc" id="aclass_species_html"><div class="ttname"><a href="class_species.html">Species</a></div><div class="ttdef"><b>Definition:</b> Species.h:429</div></div>
<div class="ttc" id="aclass_species_html_a08e7a08032714aa51a2fcbafcc304de0"><div class="ttname"><a href="class_species.html#a08e7a08032714aa51a2fcbafcc304de0">Species::setCompartment</a></div><div class="ttdeci">int setCompartment(const std::string &amp;sid)</div><div class="ttdoc">Sets the &quot;compartment&quot; attribute of this Species object.</div><div class="ttdef"><b>Definition:</b> Species.cpp:661</div></div>
<div class="ttc" id="aclass_species_html_a694f7556f2b8ec220a29199537aa3f66"><div class="ttname"><a href="class_species.html#a694f7556f2b8ec220a29199537aa3f66">Species::setInitialAmount</a></div><div class="ttdeci">int setInitialAmount(double value)</div><div class="ttdoc">Sets the &quot;initialAmount&quot; attribute of this Species and marks the field as set.</div><div class="ttdef"><b>Definition:</b> Species.cpp:680</div></div>
<div class="ttc" id="aclass_species_html_ac1f8c4724b30a8a060056dfe61528480"><div class="ttname"><a href="class_species.html#ac1f8c4724b30a8a060056dfe61528480">Species::setId</a></div><div class="ttdeci">virtual int setId(const std::string &amp;sid)</div><div class="ttdoc">Sets the value of the &quot;id&quot; attribute of this Species.</div><div class="ttdef"><b>Definition:</b> Species.cpp:591</div></div>
</div><!-- fragment --><p>It remains only to create objects representing the reactions in the model. In this example, we will create the system as one reversible and one irreversible reaction; alternatively, the system could have been created as three irreversible reactions.</p>
<p>This program has hard-coded versions of the reaction rate formulas only for the purposes of this example. Of course, in a more practical real-life situation, the formulas would not be fixed in this way&mdash;one would have methods to read/write/translate expressions originating from different sources (users, files, other programs etc.) to/from the <a href="libsbml-math.html">Abstract Syntax Trees</a> (ASTs) used by libSBML.</p>
<div class="fragment"><div class="line"><span class="comment">// Temporary pointers reused below.</span></div>
<div class="line"> </div>
<div class="line"><a class="code" href="class_reaction.html">Reaction</a>* reaction;</div>
<div class="line"><a class="code" href="class_species_reference.html">SpeciesReference</a>* spr;</div>
<div class="line"><a class="code" href="class_parameter.html">Parameter</a>* para;</div>
<div class="line"><a class="code" href="class_kinetic_law.html">KineticLaw</a>* kl;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Create Reactant objects inside the Reaction object (&quot;veq&quot;). </span></div>
<div class="line"> </div>
<div class="line">reaction = model-&gt;<a class="code" href="class_model.html#a7f670d91516c1817c1e81b4be710e0c1">createReaction</a>();</div>
<div class="line">reaction-&gt;<a class="code" href="class_reaction.html#a40d7d4448dcf3682e40636a49f45f69f">setId</a>(<span class="stringliteral">&quot;veq&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// (Reactant 1) Create a Reactant object that references Species &quot;E&quot;</span></div>
<div class="line"><span class="comment">// in the model.  The object will be created within the reaction in the</span></div>
<div class="line"><span class="comment">// SBML &lt;listOfReactants&gt;.</span></div>
<div class="line"> </div>
<div class="line">spr = reaction-&gt;<a class="code" href="class_reaction.html#a0aa212e6f8ab09ec417692149edf7698">createReactant</a>();</div>
<div class="line">spr-&gt;<a class="code" href="class_simple_species_reference.html#a7859ff57ba7c9d0355550a6b278a720b">setSpecies</a>(<span class="stringliteral">&quot;E&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// (Reactant 2) Create a Reactant object that references Species &quot;S&quot;</span></div>
<div class="line"><span class="comment">// in the model.</span></div>
<div class="line"> </div>
<div class="line">spr = reaction-&gt;<a class="code" href="class_reaction.html#a0aa212e6f8ab09ec417692149edf7698">createReactant</a>();</div>
<div class="line">spr-&gt;<a class="code" href="class_simple_species_reference.html#a7859ff57ba7c9d0355550a6b278a720b">setSpecies</a>(<span class="stringliteral">&quot;S&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Create a Product object that references Species &quot;ES&quot; in the model. </span></div>
<div class="line"> </div>
<div class="line">spr = reaction-&gt;<a class="code" href="class_reaction.html#a84b33cc61d0c5739eebaed447d02caa5">createProduct</a>();</div>
<div class="line">spr-&gt;<a class="code" href="class_simple_species_reference.html#a7859ff57ba7c9d0355550a6b278a720b">setSpecies</a>(<span class="stringliteral">&quot;ES&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Create a KineticLaw object inside the Reaction object (&quot;veq&quot;).</span></div>
<div class="line"> </div>
<div class="line">kl  = reaction-&gt;<a class="code" href="class_reaction.html#aed7c7caa8408b0682e9bd6ad93ab5c12">createKineticLaw</a>();</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Next, we will create an Abstract Syntax Tree representation of the</span></div>
<div class="line"><span class="comment">// following MathML expression:</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">//      &lt;math xmlns=\&quot;http://www.w3.org/1998/Math/MathML\&quot;&gt;</span></div>
<div class="line"><span class="comment">//        &lt;apply&gt;</span></div>
<div class="line"><span class="comment">//          &lt;times/&gt; </span></div>
<div class="line"><span class="comment">//          &lt;ci&gt; cytosol &lt;/ci&gt;</span></div>
<div class="line"><span class="comment">//          &lt;apply&gt;</span></div>
<div class="line"><span class="comment">//            &lt;minus/&gt;</span></div>
<div class="line"><span class="comment">//            &lt;apply&gt;</span></div>
<div class="line"><span class="comment">//              &lt;times/&gt;</span></div>
<div class="line"><span class="comment">//              &lt;ci&gt; kon &lt;/ci&gt;</span></div>
<div class="line"><span class="comment">//              &lt;ci&gt; E &lt;/ci&gt;</span></div>
<div class="line"><span class="comment">//              &lt;ci&gt; S &lt;/ci&gt;</span></div>
<div class="line"><span class="comment">//            &lt;/apply&gt;</span></div>
<div class="line"><span class="comment">//            &lt;apply&gt;</span></div>
<div class="line"><span class="comment">//              &lt;times/&gt;</span></div>
<div class="line"><span class="comment">//              &lt;ci&gt; koff &lt;/ci&gt;</span></div>
<div class="line"><span class="comment">//              &lt;ci&gt; ES &lt;/ci&gt;</span></div>
<div class="line"><span class="comment">//            &lt;/apply&gt;</span></div>
<div class="line"><span class="comment">//          &lt;/apply&gt;</span></div>
<div class="line"><span class="comment">//        &lt;/apply&gt;</span></div>
<div class="line"><span class="comment">//      &lt;/math&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// First, create nodes representing the variables:</span></div>
<div class="line"> </div>
<div class="line"><a class="code" href="class_a_s_t_node.html">ASTNode</a>* astCytosol = <span class="keyword">new</span> <a class="code" href="class_a_s_t_node.html">ASTNode</a>(<a class="code" href="_a_s_t_node_type_8h.html#a67bf7933ff8461eb28819ed744bf3203a4fab2a5f966e56f6062f9f9505921d0d">AST_NAME</a>);</div>
<div class="line">astCytosol-&gt;<a class="code" href="class_a_s_t_node.html#a8b45c89bbe89ac83d7139653609c30ba">setName</a>(<span class="stringliteral">&quot;cytosol&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><a class="code" href="class_a_s_t_node.html">ASTNode</a>* astKon = <span class="keyword">new</span> <a class="code" href="class_a_s_t_node.html">ASTNode</a>(<a class="code" href="_a_s_t_node_type_8h.html#a67bf7933ff8461eb28819ed744bf3203a4fab2a5f966e56f6062f9f9505921d0d">AST_NAME</a>);</div>
<div class="line">astKon-&gt;<a class="code" href="class_a_s_t_node.html#a8b45c89bbe89ac83d7139653609c30ba">setName</a>(<span class="stringliteral">&quot;kon&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><a class="code" href="class_a_s_t_node.html">ASTNode</a>* astKoff = <span class="keyword">new</span> <a class="code" href="class_a_s_t_node.html">ASTNode</a>(<a class="code" href="_a_s_t_node_type_8h.html#a67bf7933ff8461eb28819ed744bf3203a4fab2a5f966e56f6062f9f9505921d0d">AST_NAME</a>);</div>
<div class="line">astKoff-&gt;<a class="code" href="class_a_s_t_node.html#a8b45c89bbe89ac83d7139653609c30ba">setName</a>(<span class="stringliteral">&quot;koff&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><a class="code" href="class_a_s_t_node.html">ASTNode</a>* astE = <span class="keyword">new</span> <a class="code" href="class_a_s_t_node.html">ASTNode</a>(<a class="code" href="_a_s_t_node_type_8h.html#a67bf7933ff8461eb28819ed744bf3203a4fab2a5f966e56f6062f9f9505921d0d">AST_NAME</a>);</div>
<div class="line">astE-&gt;<a class="code" href="class_a_s_t_node.html#a8b45c89bbe89ac83d7139653609c30ba">setName</a>(<span class="stringliteral">&quot;E&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><a class="code" href="class_a_s_t_node.html">ASTNode</a>* astS = <span class="keyword">new</span> <a class="code" href="class_a_s_t_node.html">ASTNode</a>(<a class="code" href="_a_s_t_node_type_8h.html#a67bf7933ff8461eb28819ed744bf3203a4fab2a5f966e56f6062f9f9505921d0d">AST_NAME</a>);</div>
<div class="line">astS-&gt;<a class="code" href="class_a_s_t_node.html#a8b45c89bbe89ac83d7139653609c30ba">setName</a>(<span class="stringliteral">&quot;S&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><a class="code" href="class_a_s_t_node.html">ASTNode</a>* astES = <span class="keyword">new</span> <a class="code" href="class_a_s_t_node.html">ASTNode</a>(<a class="code" href="_a_s_t_node_type_8h.html#a67bf7933ff8461eb28819ed744bf3203a4fab2a5f966e56f6062f9f9505921d0d">AST_NAME</a>);</div>
<div class="line">astES-&gt;<a class="code" href="class_a_s_t_node.html#a8b45c89bbe89ac83d7139653609c30ba">setName</a>(<span class="stringliteral">&quot;ES&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Next, we build up the tree bottom-up, beginning with the</span></div>
<div class="line"><span class="comment">// following part:</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">//  &lt;apply&gt;</span></div>
<div class="line"><span class="comment">//    &lt;times/&gt;</span></div>
<div class="line"><span class="comment">//    &lt;ci&gt; koff &lt;/ci&gt;</span></div>
<div class="line"><span class="comment">//    &lt;ci&gt; ES &lt;/ci&gt;</span></div>
<div class="line"><span class="comment">//  &lt;/apply&gt;</span></div>
<div class="line"> </div>
<div class="line"><a class="code" href="class_a_s_t_node.html">ASTNode</a> *astTimes1 = <span class="keyword">new</span> <a class="code" href="class_a_s_t_node.html">ASTNode</a>(<a class="code" href="_a_s_t_node_type_8h.html#a67bf7933ff8461eb28819ed744bf3203a3b5febe16514530ccf97536c0a26244d">AST_TIMES</a>);</div>
<div class="line">astTimes1-&gt;<a class="code" href="class_a_s_t_node.html#ad699b88d62f54bce4edf94d6ffd110f1">addChild</a>(astKoff);</div>
<div class="line">astTimes1-&gt;<a class="code" href="class_a_s_t_node.html#ad699b88d62f54bce4edf94d6ffd110f1">addChild</a>(astES);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Continuing, we now create nodes representing the following part:</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">//  &lt;apply&gt;</span></div>
<div class="line"><span class="comment">//    &lt;times/&gt;</span></div>
<div class="line"><span class="comment">//    &lt;ci&gt; kon &lt;/ci&gt;</span></div>
<div class="line"><span class="comment">//    &lt;ci&gt; E &lt;/ci&gt;</span></div>
<div class="line"><span class="comment">//    &lt;ci&gt; S &lt;/ci&gt;</span></div>
<div class="line"><span class="comment">//  &lt;/apply&gt;</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// Note: it is worth pointing out that the expression above has 3</span></div>
<div class="line"><span class="comment">// elements inside the &lt;apply&gt;, but libSBML&#39;s ASTs are binary trees,</span></div>
<div class="line"><span class="comment">// and only accept two operands.  The following code illustrates how</span></div>
<div class="line"><span class="comment">// to construct such an expression using binary ASTNode objects.</span></div>
<div class="line"> </div>
<div class="line"><a class="code" href="class_a_s_t_node.html">ASTNode</a> *astTimes2 = <span class="keyword">new</span> <a class="code" href="class_a_s_t_node.html">ASTNode</a>(<a class="code" href="_a_s_t_node_type_8h.html#a67bf7933ff8461eb28819ed744bf3203a3b5febe16514530ccf97536c0a26244d">AST_TIMES</a>);</div>
<div class="line">astTimes2-&gt;<a class="code" href="class_a_s_t_node.html#ad699b88d62f54bce4edf94d6ffd110f1">addChild</a>(astE);</div>
<div class="line">astTimes2-&gt;<a class="code" href="class_a_s_t_node.html#ad699b88d62f54bce4edf94d6ffd110f1">addChild</a>(astS);</div>
<div class="line"> </div>
<div class="line"><a class="code" href="class_a_s_t_node.html">ASTNode</a> *astTimes = <span class="keyword">new</span> <a class="code" href="class_a_s_t_node.html">ASTNode</a>(<a class="code" href="_a_s_t_node_type_8h.html#a67bf7933ff8461eb28819ed744bf3203a3b5febe16514530ccf97536c0a26244d">AST_TIMES</a>);</div>
<div class="line">astTimes-&gt;<a class="code" href="class_a_s_t_node.html#ad699b88d62f54bce4edf94d6ffd110f1">addChild</a>(astKon);</div>
<div class="line">astTimes-&gt;<a class="code" href="class_a_s_t_node.html#ad699b88d62f54bce4edf94d6ffd110f1">addChild</a>(astTimes2);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Now for a node representing the following part:</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">//  &lt;apply&gt;</span></div>
<div class="line"><span class="comment">//    &lt;minus/&gt;</span></div>
<div class="line"><span class="comment">//    &lt;apply&gt;</span></div>
<div class="line"><span class="comment">//      &lt;times/&gt;</span></div>
<div class="line"><span class="comment">//      &lt;ci&gt; kon &lt;/ci&gt;</span></div>
<div class="line"><span class="comment">//      &lt;ci&gt; E &lt;/ci&gt;</span></div>
<div class="line"><span class="comment">//      &lt;ci&gt; S &lt;/ci&gt;</span></div>
<div class="line"><span class="comment">//    &lt;/apply&gt;</span></div>
<div class="line"><span class="comment">//    &lt;apply&gt;</span></div>
<div class="line"><span class="comment">//      &lt;times/&gt;</span></div>
<div class="line"><span class="comment">//      &lt;ci&gt; koff &lt;/ci&gt;</span></div>
<div class="line"><span class="comment">//      &lt;ci&gt; ES &lt;/ci&gt;</span></div>
<div class="line"><span class="comment">//    &lt;/apply&gt;</span></div>
<div class="line"><span class="comment">//  &lt;/apply&gt;</span></div>
<div class="line"> </div>
<div class="line"><a class="code" href="class_a_s_t_node.html">ASTNode</a> *astMinus = <span class="keyword">new</span> <a class="code" href="class_a_s_t_node.html">ASTNode</a>(<a class="code" href="_a_s_t_node_type_8h.html#a67bf7933ff8461eb28819ed744bf3203a04afe78f8ca0f64c4d49f3cd1a8b41ec">AST_MINUS</a>);</div>
<div class="line">astMinus-&gt;<a class="code" href="class_a_s_t_node.html#ad699b88d62f54bce4edf94d6ffd110f1">addChild</a>(astTimes);</div>
<div class="line">astMinus-&gt;<a class="code" href="class_a_s_t_node.html#ad699b88d62f54bce4edf94d6ffd110f1">addChild</a>(astTimes1);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// And finally, the top node, representing the complete expression:</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// &lt;apply&gt;</span></div>
<div class="line"><span class="comment">//  &lt;times/&gt;</span></div>
<div class="line"><span class="comment">//  &lt;ci&gt; cytosol &lt;/ci&gt;</span></div>
<div class="line"><span class="comment">//  &lt;apply&gt;</span></div>
<div class="line"><span class="comment">//    &lt;minus/&gt;</span></div>
<div class="line"><span class="comment">//    &lt;apply&gt;</span></div>
<div class="line"><span class="comment">//      &lt;times/&gt;</span></div>
<div class="line"><span class="comment">//      &lt;ci&gt; kon &lt;/ci&gt;</span></div>
<div class="line"><span class="comment">//      &lt;ci&gt; E &lt;/ci&gt;</span></div>
<div class="line"><span class="comment">//      &lt;ci&gt; S &lt;/ci&gt;</span></div>
<div class="line"><span class="comment">//    &lt;/apply&gt;</span></div>
<div class="line"><span class="comment">//    &lt;apply&gt;</span></div>
<div class="line"><span class="comment">//      &lt;times/&gt;</span></div>
<div class="line"><span class="comment">//      &lt;ci&gt; koff &lt;/ci&gt;</span></div>
<div class="line"><span class="comment">//      &lt;ci&gt; ES &lt;/ci&gt;</span></div>
<div class="line"><span class="comment">//    &lt;/apply&gt;</span></div>
<div class="line"><span class="comment">//  &lt;/apply&gt;</span></div>
<div class="line"><span class="comment">// &lt;/apply&gt;</span></div>
<div class="line"> </div>
<div class="line"><a class="code" href="class_a_s_t_node.html">ASTNode</a>* astMath = <span class="keyword">new</span> <a class="code" href="class_a_s_t_node.html">ASTNode</a>(<a class="code" href="_a_s_t_node_type_8h.html#a67bf7933ff8461eb28819ed744bf3203a3b5febe16514530ccf97536c0a26244d">AST_TIMES</a>);</div>
<div class="line">astMath-&gt;<a class="code" href="class_a_s_t_node.html#ad699b88d62f54bce4edf94d6ffd110f1">addChild</a>(astCytosol);</div>
<div class="line">astMath-&gt;<a class="code" href="class_a_s_t_node.html#ad699b88d62f54bce4edf94d6ffd110f1">addChild</a>(astMinus);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Now set the &lt;math&gt; element in the KineticLaw object:</span></div>
<div class="line"> </div>
<div class="line">kl-&gt;<a class="code" href="class_kinetic_law.html#a1a0da895a20a1040120151421c10c997">setMath</a>(astMath);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// KineticLaw::setMath(const ASTNode*) sets the math of the</span></div>
<div class="line"><span class="comment">// KineticLaw object to a COPY of the given ASTNode.  The caller</span></div>
<div class="line"><span class="comment">// (i.e., this program) should delete the original ASTNode object to</span></div>
<div class="line"><span class="comment">// avoid a memory leak.</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">delete</span> astMath;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Create local Parameter objects for &quot;kon&quot; and &quot;koff&quot; inside the</span></div>
<div class="line"><span class="comment">// KineticLaw object.  Note how we set the units on the parameter</span></div>
<div class="line"><span class="comment">// values.</span></div>
<div class="line"> </div>
<div class="line">para = kl-&gt;<a class="code" href="class_kinetic_law.html#a97cf2be851656cf521ac03f50ecf5eb3">createParameter</a>();</div>
<div class="line">para-&gt;<a class="code" href="class_parameter.html#ae159bda5492c97ef1ee62cf184f49e1d">setId</a>(<span class="stringliteral">&quot;kon&quot;</span>);</div>
<div class="line">para-&gt;<a class="code" href="class_parameter.html#ac7fe0a1839baeb0a174abb7fb75e2824">setValue</a>(1000000);</div>
<div class="line">para-&gt;<a class="code" href="class_parameter.html#aa527aae30facf3ca7fc4da92e2bfe4f5">setUnits</a>(<span class="stringliteral">&quot;litre_per_mole_per_second&quot;</span>);</div>
<div class="line"> </div>
<div class="line">para = kl-&gt;<a class="code" href="class_kinetic_law.html#a97cf2be851656cf521ac03f50ecf5eb3">createParameter</a>();</div>
<div class="line">para-&gt;<a class="code" href="class_parameter.html#ae159bda5492c97ef1ee62cf184f49e1d">setId</a>(<span class="stringliteral">&quot;koff&quot;</span>);</div>
<div class="line">para-&gt;<a class="code" href="class_parameter.html#ac7fe0a1839baeb0a174abb7fb75e2824">setValue</a>(0.2);</div>
<div class="line">para-&gt;<a class="code" href="class_parameter.html#aa527aae30facf3ca7fc4da92e2bfe4f5">setUnits</a>(<span class="stringliteral">&quot;per_second&quot;</span>);</div>
<div class="ttc" id="a_a_s_t_node_type_8h_html_a67bf7933ff8461eb28819ed744bf3203a04afe78f8ca0f64c4d49f3cd1a8b41ec"><div class="ttname"><a href="_a_s_t_node_type_8h.html#a67bf7933ff8461eb28819ed744bf3203a04afe78f8ca0f64c4d49f3cd1a8b41ec">AST_MINUS</a></div><div class="ttdeci">@ AST_MINUS</div><div class="ttdef"><b>Definition:</b> ASTNodeType.h:85</div></div>
<div class="ttc" id="a_a_s_t_node_type_8h_html_a67bf7933ff8461eb28819ed744bf3203a3b5febe16514530ccf97536c0a26244d"><div class="ttname"><a href="_a_s_t_node_type_8h.html#a67bf7933ff8461eb28819ed744bf3203a3b5febe16514530ccf97536c0a26244d">AST_TIMES</a></div><div class="ttdeci">@ AST_TIMES</div><div class="ttdef"><b>Definition:</b> ASTNodeType.h:86</div></div>
<div class="ttc" id="a_a_s_t_node_type_8h_html_a67bf7933ff8461eb28819ed744bf3203a4fab2a5f966e56f6062f9f9505921d0d"><div class="ttname"><a href="_a_s_t_node_type_8h.html#a67bf7933ff8461eb28819ed744bf3203a4fab2a5f966e56f6062f9f9505921d0d">AST_NAME</a></div><div class="ttdeci">@ AST_NAME</div><div class="ttdef"><b>Definition:</b> ASTNodeType.h:95</div></div>
<div class="ttc" id="aclass_a_s_t_node_html"><div class="ttname"><a href="class_a_s_t_node.html">ASTNode</a></div><div class="ttdef"><b>Definition:</b> ASTNode.h:221</div></div>
<div class="ttc" id="aclass_a_s_t_node_html_a8b45c89bbe89ac83d7139653609c30ba"><div class="ttname"><a href="class_a_s_t_node.html#a8b45c89bbe89ac83d7139653609c30ba">ASTNode::setName</a></div><div class="ttdeci">int setName(const char *name)</div><div class="ttdoc">Sets the value of this ASTNode to the given name.</div><div class="ttdef"><b>Definition:</b> ASTNode.cpp:2088</div></div>
<div class="ttc" id="aclass_a_s_t_node_html_ad699b88d62f54bce4edf94d6ffd110f1"><div class="ttname"><a href="class_a_s_t_node.html#ad699b88d62f54bce4edf94d6ffd110f1">ASTNode::addChild</a></div><div class="ttdeci">int addChild(ASTNode *disownedChild, bool inRead=false)</div><div class="ttdoc">Adds the given node as a child of this ASTNode.</div><div class="ttdef"><b>Definition:</b> ASTNode.cpp:846</div></div>
<div class="ttc" id="aclass_kinetic_law_html"><div class="ttname"><a href="class_kinetic_law.html">KineticLaw</a></div><div class="ttdef"><b>Definition:</b> KineticLaw.h:203</div></div>
<div class="ttc" id="aclass_kinetic_law_html_a1a0da895a20a1040120151421c10c997"><div class="ttname"><a href="class_kinetic_law.html#a1a0da895a20a1040120151421c10c997">KineticLaw::setMath</a></div><div class="ttdeci">virtual int setMath(const ASTNode *math)</div><div class="ttdoc">Sets the mathematical expression of this KineticLaw instance to a copy of the given ASTNode.</div><div class="ttdef"><b>Definition:</b> KineticLaw.cpp:392</div></div>
<div class="ttc" id="aclass_kinetic_law_html_a97cf2be851656cf521ac03f50ecf5eb3"><div class="ttname"><a href="class_kinetic_law.html#a97cf2be851656cf521ac03f50ecf5eb3">KineticLaw::createParameter</a></div><div class="ttdeci">Parameter * createParameter()</div><div class="ttdoc">Creates a new Parameter object, adds it to this KineticLaw's list of parameters, and returns the Para...</div><div class="ttdef"><b>Definition:</b> KineticLaw.cpp:613</div></div>
<div class="ttc" id="aclass_model_html_a7f670d91516c1817c1e81b4be710e0c1"><div class="ttname"><a href="class_model.html#a7f670d91516c1817c1e81b4be710e0c1">Model::createReaction</a></div><div class="ttdeci">Reaction * createReaction()</div><div class="ttdoc">Creates a new Reaction inside this Model and returns it.</div><div class="ttdef"><b>Definition:</b> Model.cpp:1782</div></div>
<div class="ttc" id="aclass_parameter_html"><div class="ttname"><a href="class_parameter.html">Parameter</a></div><div class="ttdef"><b>Definition:</b> Parameter.h:202</div></div>
<div class="ttc" id="aclass_parameter_html_aa527aae30facf3ca7fc4da92e2bfe4f5"><div class="ttname"><a href="class_parameter.html#aa527aae30facf3ca7fc4da92e2bfe4f5">Parameter::setUnits</a></div><div class="ttdeci">int setUnits(const std::string &amp;units)</div><div class="ttdoc">Sets the &quot;units&quot; attribute of this Parameter to a copy of the given units identifier units.</div><div class="ttdef"><b>Definition:</b> Parameter.cpp:394</div></div>
<div class="ttc" id="aclass_parameter_html_ac7fe0a1839baeb0a174abb7fb75e2824"><div class="ttname"><a href="class_parameter.html#ac7fe0a1839baeb0a174abb7fb75e2824">Parameter::setValue</a></div><div class="ttdeci">int setValue(double value)</div><div class="ttdoc">Sets the &quot;value&quot; attribute of this Parameter to the given double value and marks the attribute as set...</div><div class="ttdef"><b>Definition:</b> Parameter.cpp:382</div></div>
<div class="ttc" id="aclass_parameter_html_ae159bda5492c97ef1ee62cf184f49e1d"><div class="ttname"><a href="class_parameter.html#ae159bda5492c97ef1ee62cf184f49e1d">Parameter::setId</a></div><div class="ttdeci">virtual int setId(const std::string &amp;sid)</div><div class="ttdoc">Sets the value of the &quot;id&quot; attribute of this Parameter.</div><div class="ttdef"><b>Definition:</b> Parameter.cpp:335</div></div>
<div class="ttc" id="aclass_reaction_html"><div class="ttname"><a href="class_reaction.html">Reaction</a></div><div class="ttdef"><b>Definition:</b> Reaction.h:224</div></div>
<div class="ttc" id="aclass_reaction_html_a0aa212e6f8ab09ec417692149edf7698"><div class="ttname"><a href="class_reaction.html#a0aa212e6f8ab09ec417692149edf7698">Reaction::createReactant</a></div><div class="ttdeci">SpeciesReference * createReactant()</div><div class="ttdoc">Creates a new SpeciesReference, adds it to this Reaction's list of reactants, and returns it.</div><div class="ttdef"><b>Definition:</b> Reaction.cpp:954</div></div>
<div class="ttc" id="aclass_reaction_html_a40d7d4448dcf3682e40636a49f45f69f"><div class="ttname"><a href="class_reaction.html#a40d7d4448dcf3682e40636a49f45f69f">Reaction::setId</a></div><div class="ttdeci">virtual int setId(const std::string &amp;sid)</div><div class="ttdoc">Sets the value of the &quot;id&quot; attribute of this Reaction.</div><div class="ttdef"><b>Definition:</b> Reaction.cpp:517</div></div>
<div class="ttc" id="aclass_reaction_html_a84b33cc61d0c5739eebaed447d02caa5"><div class="ttname"><a href="class_reaction.html#a84b33cc61d0c5739eebaed447d02caa5">Reaction::createProduct</a></div><div class="ttdeci">SpeciesReference * createProduct()</div><div class="ttdoc">Creates a new SpeciesReference, adds it to this Reaction's list of products, and returns it.</div><div class="ttdef"><b>Definition:</b> Reaction.cpp:983</div></div>
<div class="ttc" id="aclass_reaction_html_aed7c7caa8408b0682e9bd6ad93ab5c12"><div class="ttname"><a href="class_reaction.html#aed7c7caa8408b0682e9bd6ad93ab5c12">Reaction::createKineticLaw</a></div><div class="ttdeci">KineticLaw * createKineticLaw()</div><div class="ttdoc">Creates a new KineticLaw object, installs it as this Reaction's &quot;kineticLaw&quot; subelement,...</div><div class="ttdef"><b>Definition:</b> Reaction.cpp:1041</div></div>
<div class="ttc" id="aclass_simple_species_reference_html_a7859ff57ba7c9d0355550a6b278a720b"><div class="ttname"><a href="class_simple_species_reference.html#a7859ff57ba7c9d0355550a6b278a720b">SimpleSpeciesReference::setSpecies</a></div><div class="ttdeci">int setSpecies(const std::string &amp;sid)</div><div class="ttdoc">Sets the &quot;species&quot; attribute of this SimpleSpeciesReference.</div><div class="ttdef"><b>Definition:</b> SimpleSpeciesReference.cpp:196</div></div>
<div class="ttc" id="aclass_species_reference_html"><div class="ttname"><a href="class_species_reference.html">SpeciesReference</a></div><div class="ttdef"><b>Definition:</b> SpeciesReference.h:281</div></div>
</div><!-- fragment --><p>That was one reaction. One more reaction to go. This time around, for variety and to illustrate another one of libSBML's facilities, we create the AST for the reaction rate formula starting from a string in MathML form.</p>
<div class="fragment"><div class="line"><span class="comment">// (Reaction 2) Create a Reaction object (&quot;vcat&quot;) .</span></div>
<div class="line"> </div>
<div class="line">reaction = model-&gt;<a class="code" href="class_model.html#a7f670d91516c1817c1e81b4be710e0c1">createReaction</a>();</div>
<div class="line">reaction-&gt;<a class="code" href="class_reaction.html#a40d7d4448dcf3682e40636a49f45f69f">setId</a>(<span class="stringliteral">&quot;vcat&quot;</span>);</div>
<div class="line">reaction-&gt;<a class="code" href="class_reaction.html#a3f5fa0174bcec13e0f5b36a5579d0e48">setReversible</a>(<span class="keyword">false</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Create Reactant objects inside the Reaction object (&quot;vcat&quot;). </span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// (Reactant 1) Create a Reactant object that references Species</span></div>
<div class="line"><span class="comment">// &quot;ES&quot; in the model.</span></div>
<div class="line"> </div>
<div class="line">spr = reaction-&gt;<a class="code" href="class_reaction.html#a0aa212e6f8ab09ec417692149edf7698">createReactant</a>();</div>
<div class="line">spr-&gt;<a class="code" href="class_simple_species_reference.html#a7859ff57ba7c9d0355550a6b278a720b">setSpecies</a>(<span class="stringliteral">&quot;ES&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// (Product 1) Create a Product object that references Species &quot;E&quot;</span></div>
<div class="line"><span class="comment">// in the model.</span></div>
<div class="line"> </div>
<div class="line">spr = reaction-&gt;<a class="code" href="class_reaction.html#a84b33cc61d0c5739eebaed447d02caa5">createProduct</a>();</div>
<div class="line">spr-&gt;<a class="code" href="class_simple_species_reference.html#a7859ff57ba7c9d0355550a6b278a720b">setSpecies</a>(<span class="stringliteral">&quot;E&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// (Product 2) Create a Product object that references Species &quot;P&quot;</span></div>
<div class="line"><span class="comment">// in the model.</span></div>
<div class="line"> </div>
<div class="line">spr = reaction-&gt;<a class="code" href="class_reaction.html#a84b33cc61d0c5739eebaed447d02caa5">createProduct</a>();</div>
<div class="line">spr-&gt;<a class="code" href="class_simple_species_reference.html#a7859ff57ba7c9d0355550a6b278a720b">setSpecies</a>(<span class="stringliteral">&quot;P&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Create a KineticLaw object inside the Reaction object (&quot;vcat&quot;). </span></div>
<div class="line"> </div>
<div class="line">kl = reaction-&gt;<a class="code" href="class_reaction.html#aed7c7caa8408b0682e9bd6ad93ab5c12">createKineticLaw</a>();</div>
<div class="line"> </div>
<div class="line"><span class="comment">// To create mathematical expressions, one would typically construct</span></div>
<div class="line"><span class="comment">// an ASTNode tree as the above example code which creates a math of</span></div>
<div class="line"><span class="comment">// another KineticLaw object.  Here, to save some space and</span></div>
<div class="line"><span class="comment">// illustrate another approach of doing it, we will write out the</span></div>
<div class="line"><span class="comment">// formula in MathML form and then use a libSBML convenience</span></div>
<div class="line"><span class="comment">// function to create the ASTNode tree for us.  (However, this is a</span></div>
<div class="line"><span class="comment">// bit dangerous; it&#39;s very easy to make mistakes when writing</span></div>
<div class="line"><span class="comment">// MathML by hand, so in a real program, we would not really want to</span></div>
<div class="line"><span class="comment">// do it this way.  We do this here mostly to illustrate this approach.)</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">string</span> mathXMLString = <span class="stringliteral">&quot;&lt;math xmlns=\&quot;http://www.w3.org/1998/Math/MathML\&quot;&gt;&quot;</span></div>
<div class="line">                       <span class="stringliteral">&quot;  &lt;apply&gt;&quot;</span></div>
<div class="line">                       <span class="stringliteral">&quot;    &lt;times/&gt;&quot;</span></div>
<div class="line">                       <span class="stringliteral">&quot;    &lt;ci&gt; cytosol &lt;/ci&gt;&quot;</span></div>
<div class="line">                       <span class="stringliteral">&quot;    &lt;ci&gt; kcat &lt;/ci&gt;&quot;</span></div>
<div class="line">                       <span class="stringliteral">&quot;    &lt;ci&gt; ES &lt;/ci&gt;&quot;</span></div>
<div class="line">                       <span class="stringliteral">&quot;  &lt;/apply&gt;&quot;</span></div>
<div class="line">                       <span class="stringliteral">&quot;&lt;/math&gt;&quot;</span>;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// The following reuses &#39;astMath&#39; declared earlier in this program.</span></div>
<div class="line"><span class="comment">// Note also how this is careful to delete the structure after handing</span></div>
<div class="line"><span class="comment">// it to setMath().  As noted earlier, setMath() copies the structure</span></div>
<div class="line"><span class="comment">// given to it, so if the caller is finished using it, the structure</span></div>
<div class="line"><span class="comment">// should be deleted in order to avoid leaking memory.</span></div>
<div class="line"> </div>
<div class="line">astMath = <a class="code" href="_math_m_l_8cpp.html#a0fb4f7430eb05834379253ce3611a00a">readMathMLFromString</a>(mathXMLString.c_str());</div>
<div class="line">kl-&gt;<a class="code" href="class_kinetic_law.html#a1a0da895a20a1040120151421c10c997">setMath</a>(astMath);</div>
<div class="line"><span class="keyword">delete</span> astMath;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Create a local Parameter object for &quot;kcat&quot; inside the KineticLaw</span></div>
<div class="line"><span class="comment">// object.</span></div>
<div class="line"> </div>
<div class="line">para = kl-&gt;<a class="code" href="class_kinetic_law.html#a97cf2be851656cf521ac03f50ecf5eb3">createParameter</a>();</div>
<div class="line">para-&gt;<a class="code" href="class_parameter.html#ae159bda5492c97ef1ee62cf184f49e1d">setId</a>(<span class="stringliteral">&quot;kcat&quot;</span>);</div>
<div class="line">para-&gt;<a class="code" href="class_parameter.html#ac7fe0a1839baeb0a174abb7fb75e2824">setValue</a>(0.1);</div>
<div class="line">para-&gt;<a class="code" href="class_parameter.html#aa527aae30facf3ca7fc4da92e2bfe4f5">setUnits</a>(<span class="stringliteral">&quot;per_second&quot;</span>);</div>
<div class="ttc" id="a_math_m_l_8cpp_html_a0fb4f7430eb05834379253ce3611a00a"><div class="ttname"><a href="_math_m_l_8cpp.html#a0fb4f7430eb05834379253ce3611a00a">readMathMLFromString</a></div><div class="ttdeci">ASTNode_t * readMathMLFromString(const char *xml)</div><div class="ttdoc">Reads the MathML from the given XML string, constructs a corresponding abstract syntax tree,...</div><div class="ttdef"><b>Definition:</b> MathML.cpp:2273</div></div>
<div class="ttc" id="aclass_reaction_html_a3f5fa0174bcec13e0f5b36a5579d0e48"><div class="ttname"><a href="class_reaction.html#a3f5fa0174bcec13e0f5b36a5579d0e48">Reaction::setReversible</a></div><div class="ttdeci">int setReversible(bool value)</div><div class="ttdoc">Sets the value of the &quot;reversible&quot; attribute of this Reaction.</div><div class="ttdef"><b>Definition:</b> Reaction.cpp:599</div></div>
</div><!-- fragment --><p>That concludes all the model creation code. Our <code>createExampleEnzymaticReaction()</code> function now only needs to return the <a class="el" href="class_s_b_m_l_document.html">SBMLDocument</a> object that it created.</p>
<div class="fragment"><div class="line">  <span class="comment">// Return the created SBMLDocument object.</span></div>
<div class="line">  <span class="comment">// The returned object must be explicitly deleted by the caller,</span></div>
<div class="line">  <span class="comment">// otherwise a memory leak will happen.</span></div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">return</span> sbmlDoc;</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="validating"></a>
Function for verifying the model</h2>
<p>One of the most important features of libSBML is its ability to perform SBML validation to ensure that a model adheres to the SBML specification for whatever Level+Version combination the model uses. Although the example program presented here is short and we can verify its correctness by inspection, in more general programs, it is difficult to ensure that everything in a model is constructed properly. The ability to perform automatic checks then becomes very useful. We therefore take this opportunity to illustrate the use of libSBML's validation and checking facilities.</p>
<p>The rationale behind libSBML's consistency-checking and validation functions is the following. The individual libSBML for creating and setting attributes and other components are generally quite lenient, and allow a caller to compose SBML entities that may not, in the end, represent valid SBML. This allows applications the freedom to do things such as save incomplete models (which is useful when models are being developed over long periods of time), but at the same time, it means that a separate validation step is necessary when a calling program finally wants to finish a complete SBML document.</p>
<p>LibSBML implements verification of SBML in two steps, represented by the two methods <a class="el" href="class_s_b_m_l_document.html#a5d0aceba94d7005122b9149470998349" title="Performs consistency checking on libSBML&#39;s internal representation of an SBML Model.">SBMLDocument::checkInternalConsistency()</a> and <a class="el" href="class_s_b_m_l_document.html#a25684f139b8f5e44ec2089eba3fdfda0" title="Performs consistency checking and validation on this SBML document.">SBMLDocument::checkConsistency()</a>. The former verifies the basic internal consistency and syntax of an SBML document, and the latter implements more elaborate validation rules (both those defined by the SBML specifications, as well as additional rules offered by libSBML). When an application builds up a model programmatically and is finally ready to say "yes, this model is finished", it should call both of these methods to help ensure the correctness and consistency of the finished result.</p>
<p>The situation is different when an application is reading a model from a file or data stream. Upon reading a model, libSBML automatically verifies the syntax and schema consistency of the document. The application then only needs to check the results by interrogating the error log on the <a class="el" href="class_s_b_m_l_document.html">SBMLDocument</a> object and calling <a class="el" href="class_s_b_m_l_document.html#a25684f139b8f5e44ec2089eba3fdfda0" title="Performs consistency checking and validation on this SBML document.">SBMLDocument::checkConsistency()</a> to check the model against the SBML validation rules.</p>
<p>The following code illustrates a complete sequence of checking a newly-created model using both <a class="el" href="class_s_b_m_l_document.html#a5d0aceba94d7005122b9149470998349" title="Performs consistency checking on libSBML&#39;s internal representation of an SBML Model.">SBMLDocument::checkInternalConsistency()</a> and <a class="el" href="class_s_b_m_l_document.html#a25684f139b8f5e44ec2089eba3fdfda0" title="Performs consistency checking and validation on this SBML document.">SBMLDocument::checkConsistency()</a>, and handling the reporting of problems to the user.</p>
<div class="fragment"><div class="line"><span class="keywordtype">bool</span> validateExampleSBML (<a class="code" href="class_s_b_m_l_document.html">SBMLDocument</a>* sbmlDoc)</div>
<div class="line">{</div>
<div class="line">  <span class="keywordflow">if</span> ( ! sbmlDoc )</div>
<div class="line">  {</div>
<div class="line">    cerr &lt;&lt; <span class="stringliteral">&quot;validateExampleSBML: given a null SBML Document&quot;</span> &lt;&lt; endl;</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="keywordtype">string</span> consistencyMessages;</div>
<div class="line">  <span class="keywordtype">string</span> validationMessages;</div>
<div class="line">  <span class="keywordtype">bool</span> noProblems                     = <span class="keyword">true</span>;</div>
<div class="line">  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> numCheckFailures       = 0;</div>
<div class="line">  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> numConsistencyErrors   = 0;</div>
<div class="line">  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> numConsistencyWarnings = 0;</div>
<div class="line">  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> numValidationErrors    = 0;</div>
<div class="line">  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> numValidationWarnings  = 0;</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// LibSBML is lenient when generating models from scratch using the</span></div>
<div class="line">  <span class="comment">// API for creating objects.  Once the whole model is done and before it</span></div>
<div class="line">  <span class="comment">// gets written out, it&#39;s important to check that the whole model is in</span></div>
<div class="line">  <span class="comment">// fact complete, consistent and valid.</span></div>
<div class="line"> </div>
<div class="line">  numCheckFailures = sbmlDoc-&gt;<a class="code" href="class_s_b_m_l_document.html#a5d0aceba94d7005122b9149470998349">checkInternalConsistency</a>();</div>
<div class="line">  <span class="keywordflow">if</span> ( numCheckFailures &gt; 0 )</div>
<div class="line">  {</div>
<div class="line">    noProblems = <span class="keyword">false</span>;</div>
<div class="line">    <span class="keywordflow">for</span> ( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; numCheckFailures; i++ )</div>
<div class="line">    {</div>
<div class="line">      <span class="keyword">const</span> <a class="code" href="class_s_b_m_l_error.html">SBMLError</a>* sbmlErr = sbmlDoc-&gt;<a class="code" href="class_s_b_m_l_document.html#a412aa5420aa21531826c16d270a5f5e0">getError</a>(i);</div>
<div class="line">      <span class="keywordflow">if</span> ( sbmlErr-&gt;<a class="code" href="class_x_m_l_error.html#ad561717e19dfddf14a24936740e19f26">isFatal</a>() || sbmlErr-&gt;<a class="code" href="class_x_m_l_error.html#aa1ded3496ae94ec4117e4b6655ebe69f">isError</a>() )</div>
<div class="line">      {</div>
<div class="line">        ++numConsistencyErrors;</div>
<div class="line">      }</div>
<div class="line">      <span class="keywordflow">else</span></div>
<div class="line">      {</div>
<div class="line">        ++numConsistencyWarnings;</div>
<div class="line">      }      </div>
<div class="line">    } </div>
<div class="line">    ostringstream oss;</div>
<div class="line">    sbmlDoc-&gt;<a class="code" href="class_s_b_m_l_document.html#a4ba64417bb8900acc865a4bb3319a4d2">printErrors</a>(oss);</div>
<div class="line">    consistencyMessages = oss.str(); </div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// If the internal checks fail, it makes little sense to attempt</span></div>
<div class="line">  <span class="comment">// further validation, because the model may be too compromised to</span></div>
<div class="line">  <span class="comment">// be properly interpreted.</span></div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">if</span> ( numConsistencyErrors &gt; 0 )</div>
<div class="line">  {</div>
<div class="line">    consistencyMessages += <span class="stringliteral">&quot;Further validation aborted.&quot;</span>; </div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">else</span></div>
<div class="line">  {</div>
<div class="line">    numCheckFailures = sbmlDoc-&gt;<a class="code" href="class_s_b_m_l_document.html#a25684f139b8f5e44ec2089eba3fdfda0">checkConsistency</a>();</div>
<div class="line">    <span class="keywordflow">if</span> ( numCheckFailures &gt; 0 )</div>
<div class="line">    {</div>
<div class="line">      noProblems = <span class="keyword">false</span>;</div>
<div class="line">      <span class="keywordflow">for</span> ( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; numCheckFailures; i++ )</div>
<div class="line">      {</div>
<div class="line">        <span class="keyword">const</span> <a class="code" href="class_s_b_m_l_error.html">SBMLError</a>* sbmlErr = sbmlDoc-&gt;<a class="code" href="class_s_b_m_l_document.html#a412aa5420aa21531826c16d270a5f5e0">getError</a>(i);</div>
<div class="line">        <span class="keywordflow">if</span> ( sbmlErr-&gt;<a class="code" href="class_x_m_l_error.html#ad561717e19dfddf14a24936740e19f26">isFatal</a>() || sbmlErr-&gt;<a class="code" href="class_x_m_l_error.html#aa1ded3496ae94ec4117e4b6655ebe69f">isError</a>() )</div>
<div class="line">        {</div>
<div class="line">          ++numValidationErrors;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">          ++numValidationWarnings;</div>
<div class="line">        }      </div>
<div class="line">      } </div>
<div class="line">      ostringstream oss;</div>
<div class="line">      sbmlDoc-&gt;<a class="code" href="class_s_b_m_l_document.html#a4ba64417bb8900acc865a4bb3319a4d2">printErrors</a>(oss);</div>
<div class="line">      validationMessages = oss.str(); </div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">if</span> ( noProblems )</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">  <span class="keywordflow">else</span></div>
<div class="line">  {</div>
<div class="line">    <span class="keywordflow">if</span> ( numConsistencyErrors &gt; 0 )</div>
<div class="line">    {</div>
<div class="line">      cout &lt;&lt; <span class="stringliteral">&quot;ERROR: encountered &quot;</span> &lt;&lt; numConsistencyErrors </div>
<div class="line">           &lt;&lt; <span class="stringliteral">&quot; consistency error&quot;</span> &lt;&lt; (numConsistencyErrors == 1 ? <span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot;s&quot;</span>)</div>
<div class="line">       &lt;&lt; <span class="stringliteral">&quot; in model &#39;&quot;</span> &lt;&lt; sbmlDoc-&gt;<a class="code" href="class_s_b_m_l_document.html#aace4f4d2a3deb1b45885abbb4301a2e6">getModel</a>()-&gt;<a class="code" href="class_model.html#af231d01db6a91e25812995f524476b75">getId</a>() &lt;&lt; <span class="stringliteral">&quot;&#39;.&quot;</span> &lt;&lt; endl;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> ( numConsistencyWarnings &gt; 0 )</div>
<div class="line">    {</div>
<div class="line">      cout &lt;&lt; <span class="stringliteral">&quot;Notice: encountered &quot;</span> &lt;&lt; numConsistencyWarnings</div>
<div class="line">           &lt;&lt; <span class="stringliteral">&quot; consistency warning&quot;</span> &lt;&lt; (numConsistencyWarnings == 1 ? <span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot;s&quot;</span>)</div>
<div class="line">       &lt;&lt; <span class="stringliteral">&quot; in model &#39;&quot;</span> &lt;&lt; sbmlDoc-&gt;<a class="code" href="class_s_b_m_l_document.html#aace4f4d2a3deb1b45885abbb4301a2e6">getModel</a>()-&gt;<a class="code" href="class_model.html#af231d01db6a91e25812995f524476b75">getId</a>() &lt;&lt; <span class="stringliteral">&quot;&#39;.&quot;</span> &lt;&lt; endl;</div>
<div class="line">    }</div>
<div class="line">    cout &lt;&lt; endl &lt;&lt; consistencyMessages;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> ( numValidationErrors &gt; 0 )</div>
<div class="line">    {</div>
<div class="line">      cout &lt;&lt; <span class="stringliteral">&quot;ERROR: encountered &quot;</span> &lt;&lt; numValidationErrors</div>
<div class="line">           &lt;&lt; <span class="stringliteral">&quot; validation error&quot;</span> &lt;&lt; (numValidationErrors == 1 ? <span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot;s&quot;</span>)</div>
<div class="line">       &lt;&lt; <span class="stringliteral">&quot; in model &#39;&quot;</span> &lt;&lt; sbmlDoc-&gt;<a class="code" href="class_s_b_m_l_document.html#aace4f4d2a3deb1b45885abbb4301a2e6">getModel</a>()-&gt;<a class="code" href="class_model.html#af231d01db6a91e25812995f524476b75">getId</a>() &lt;&lt; <span class="stringliteral">&quot;&#39;.&quot;</span> &lt;&lt; endl;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> ( numValidationWarnings &gt; 0 )</div>
<div class="line">    {</div>
<div class="line">      cout &lt;&lt; <span class="stringliteral">&quot;Notice: encountered &quot;</span> &lt;&lt; numValidationWarnings</div>
<div class="line">           &lt;&lt; <span class="stringliteral">&quot; validation warning&quot;</span> &lt;&lt; (numValidationWarnings == 1 ? <span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot;s&quot;</span>)</div>
<div class="line">       &lt;&lt; <span class="stringliteral">&quot; in model &#39;&quot;</span> &lt;&lt; sbmlDoc-&gt;<a class="code" href="class_s_b_m_l_document.html#aace4f4d2a3deb1b45885abbb4301a2e6">getModel</a>()-&gt;<a class="code" href="class_model.html#af231d01db6a91e25812995f524476b75">getId</a>() &lt;&lt; <span class="stringliteral">&quot;&#39;.&quot;</span> &lt;&lt; endl;</div>
<div class="line">    }</div>
<div class="line">    cout &lt;&lt; endl &lt;&lt; validationMessages;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> ( numConsistencyErrors == 0 &amp;&amp; numValidationErrors == 0 );</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="ttc" id="aclass_model_html_af231d01db6a91e25812995f524476b75"><div class="ttname"><a href="class_model.html#af231d01db6a91e25812995f524476b75">Model::getId</a></div><div class="ttdeci">virtual const std::string &amp; getId() const</div><div class="ttdoc">Returns the value of the &quot;id&quot; attribute of this Model.</div></div>
<div class="ttc" id="aclass_s_b_m_l_document_html_a25684f139b8f5e44ec2089eba3fdfda0"><div class="ttname"><a href="class_s_b_m_l_document.html#a25684f139b8f5e44ec2089eba3fdfda0">SBMLDocument::checkConsistency</a></div><div class="ttdeci">unsigned int checkConsistency()</div><div class="ttdoc">Performs consistency checking and validation on this SBML document.</div><div class="ttdef"><b>Definition:</b> SBMLDocument.cpp:699</div></div>
<div class="ttc" id="aclass_s_b_m_l_document_html_a412aa5420aa21531826c16d270a5f5e0"><div class="ttname"><a href="class_s_b_m_l_document.html#a412aa5420aa21531826c16d270a5f5e0">SBMLDocument::getError</a></div><div class="ttdeci">const SBMLError * getError(unsigned int n) const</div><div class="ttdoc">Returns the nth error or warning encountered during parsing, consistency checking,...</div><div class="ttdef"><b>Definition:</b> SBMLDocument.cpp:1146</div></div>
<div class="ttc" id="aclass_s_b_m_l_document_html_a4ba64417bb8900acc865a4bb3319a4d2"><div class="ttname"><a href="class_s_b_m_l_document.html#a4ba64417bb8900acc865a4bb3319a4d2">SBMLDocument::printErrors</a></div><div class="ttdeci">void printErrors(std::ostream &amp;stream=std::cerr) const</div><div class="ttdoc">Prints all the errors or warnings encountered trying to parse, check, or translate this SBML document...</div><div class="ttdef"><b>Definition:</b> SBMLDocument.cpp:1186</div></div>
<div class="ttc" id="aclass_s_b_m_l_document_html_a5d0aceba94d7005122b9149470998349"><div class="ttname"><a href="class_s_b_m_l_document.html#a5d0aceba94d7005122b9149470998349">SBMLDocument::checkInternalConsistency</a></div><div class="ttdeci">unsigned int checkInternalConsistency()</div><div class="ttdoc">Performs consistency checking on libSBML's internal representation of an SBML Model.</div><div class="ttdef"><b>Definition:</b> SBMLDocument.cpp:864</div></div>
<div class="ttc" id="aclass_s_b_m_l_document_html_aace4f4d2a3deb1b45885abbb4301a2e6"><div class="ttname"><a href="class_s_b_m_l_document.html#aace4f4d2a3deb1b45885abbb4301a2e6">SBMLDocument::getModel</a></div><div class="ttdeci">const Model * getModel() const</div><div class="ttdoc">Returns the Model object stored in this SBMLDocument.</div><div class="ttdef"><b>Definition:</b> SBMLDocument.cpp:350</div></div>
<div class="ttc" id="aclass_s_b_m_l_error_html"><div class="ttname"><a href="class_s_b_m_l_error.html">SBMLError</a></div><div class="ttdef"><b>Definition:</b> SBMLError.h:1100</div></div>
<div class="ttc" id="aclass_x_m_l_error_html_aa1ded3496ae94ec4117e4b6655ebe69f"><div class="ttname"><a href="class_x_m_l_error.html#aa1ded3496ae94ec4117e4b6655ebe69f">XMLError::isError</a></div><div class="ttdeci">bool isError() const</div><div class="ttdoc">Predicate returning true or false depending on whether this error is a significant error.</div><div class="ttdef"><b>Definition:</b> XMLError.cpp:661</div></div>
<div class="ttc" id="aclass_x_m_l_error_html_ad561717e19dfddf14a24936740e19f26"><div class="ttname"><a href="class_x_m_l_error.html#ad561717e19dfddf14a24936740e19f26">XMLError::isFatal</a></div><div class="ttdeci">bool isFatal() const</div><div class="ttdoc">Predicate returning true or false depending on whether this error is a fatal run-time error.</div><div class="ttdef"><b>Definition:</b> XMLError.cpp:671</div></div>
</div><!-- fragment --><h2><a class="anchor" id="writing"></a>
Function for writing the model</h2>
<p>The final step of writing out a model is relatively trivial. LibSBML provides a class of object (<a class="el" href="class_s_b_m_l_writer.html">SBMLWriter</a>) that provides the necessary functionality. All that is left to do is to call it with a desired file name.</p>
<div class="fragment"><div class="line"><span class="comment">/**</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> * Writes the given SBMLDocument to the given file.</span></div>
<div class="line"><span class="comment"> *</span></div>
<div class="line"><span class="comment"> */</span> </div>
<div class="line"><span class="keywordtype">bool</span> writeExampleSBML(<span class="keyword">const</span> <a class="code" href="class_s_b_m_l_document.html">SBMLDocument</a>* sbmlDoc, <span class="keyword">const</span> <span class="keywordtype">string</span>&amp; filename)</div>
<div class="line">{</div>
<div class="line">  <a class="code" href="class_s_b_m_l_writer.html">SBMLWriter</a> sbmlWriter;</div>
<div class="line"> </div>
<div class="line">  <span class="keywordtype">bool</span> result = sbmlWriter.<a class="code" href="class_s_b_m_l_writer.html#a02d1998aee7656d7b9c3ac69d62bb66f">writeSBML</a>(sbmlDoc, filename);</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">if</span> ( result )</div>
<div class="line">  {</div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Wrote file \&quot;&quot;</span> &lt;&lt; filename &lt;&lt; <span class="stringliteral">&quot;\&quot;&quot;</span> &lt;&lt; endl;</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">else</span></div>
<div class="line">  {</div>
<div class="line">    cerr &lt;&lt; <span class="stringliteral">&quot;Failed to write \&quot;&quot;</span> &lt;&lt; filename &lt;&lt; <span class="stringliteral">&quot;\&quot;&quot;</span> &lt;&lt; endl;</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="ttc" id="aclass_s_b_m_l_writer_html"><div class="ttname"><a href="class_s_b_m_l_writer.html">SBMLWriter</a></div><div class="ttdef"><b>Definition:</b> SBMLWriter.h:115</div></div>
<div class="ttc" id="aclass_s_b_m_l_writer_html_a02d1998aee7656d7b9c3ac69d62bb66f"><div class="ttname"><a href="class_s_b_m_l_writer.html#a02d1998aee7656d7b9c3ac69d62bb66f">SBMLWriter::writeSBML</a></div><div class="ttdeci">bool writeSBML(const SBMLDocument *d, const std::string &amp;filename)</div><div class="ttdoc">Writes the given SBML document to filename.</div><div class="ttdef"><b>Definition:</b> SBMLWriter.cpp:140</div></div>
</div><!-- fragment --><h1><a class="anchor" id="source"></a>
Source code</h1>
<p>An expanded version of this example is supplied with the libSBML distribution as the file named <a class="el" href="create_example_s_b_m_l_8cpp-example.html">createExampleSBML.cpp</a> in the directory <code>examples/c++</code>. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for Doxygen -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
      Visit <a href="http://sbml.org">SBML.org</a> for more information
    about SBML and libSBML.
    </li>
   </ul>
</div>
</body>
</html>
