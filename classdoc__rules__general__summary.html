<!-- HTML header for Doxygen -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<title>libSBML C++ API: doc_rules_general_summary Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="sbml.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js"></script>
<link href="libsbml-doxygen-stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">libSBML C++ API
   &#160;<span id="projectnumber">5.19.7</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classdoc__rules__general__summary.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">doc_rules_general_summary Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h1><a class="anchor" id="rules-general"></a>
General summary of SBML rules</h1>
<p>In SBML Level&#160;3 as well as Level&#160;2, rules are separated into three subclasses for the benefit of model analysis software. The three subclasses are based on the following three different possible functional forms (where <em>x</em> is a variable, <em>f</em> is some arbitrary function returning a numerical result, <b><em>V</em></b> is a vector of variables that does not include <em>x</em>, and <b><em>W</em></b> is a vector of variables that may include <em>x</em>):</p>
<table border="0" cellpadding="0" class="centered" style="font-size: small">
<tr>
<td width="120px"><em>Algebraic:</em></td><td width="250px">left-hand side is zero</td><td><em>0 = f(<b>W</b>)</em> </td></tr>
<tr>
<td><em>Assignment:</em></td><td>left-hand side is a scalar:</td><td><em>x = f(<b>V</b>)</em> </td></tr>
<tr>
<td><em>Rate:</em></td><td>left-hand side is a rate-of-change:</td><td><em>dx/dt = f(<b>W</b>)</em> </td></tr>
</table>
<p>In their general form given above, there is little to distinguish between <em>assignment</em> and <em>algebraic</em> rules. They are treated as separate cases for the following reasons:</p>
<ul>
<li><em>Assignment</em> rules can simply be evaluated to calculate intermediate values for use in numerical methods. They are statements of equality that hold at all times. (For assignments that are only performed once, see <a class="el" href="class_initial_assignment.html" title="\ @ @ . &lt;&gt; &lt;/&gt;, .">InitialAssignment</a>.)</li>
</ul>
<ul>
<li>SBML needs to place restrictions on assignment rules, for example the restriction that assignment rules cannot contain algebraic loops.</li>
</ul>
<ul>
<li>Some simulators do not contain numerical solvers capable of solving unconstrained algebraic equations, and providing more direct forms such as assignment rules may enable those simulators to process models they could not process if the same assignments were put in the form of general algebraic equations;</li>
</ul>
<ul>
<li>Those simulators that <em>can</em> solve these algebraic equations make a distinction between the different categories listed above; and</li>
</ul>
<ul>
<li>Some specialized numerical analyses of models may only be applicable to models that do not contain <em>algebraic</em> rules.</li>
</ul>
<p>The approach taken to covering these cases in SBML is to define an abstract <a class="el" href="class_rule.html" title="\ @ @ . &lt;&gt;&lt;/&gt; .">Rule</a> structure containing a subelement, "math", to hold the right-hand side expression, then to derive subtypes of <a class="el" href="class_rule.html" title="\ @ @ . &lt;&gt;&lt;/&gt; .">Rule</a> that add attributes to distinguish the cases of algebraic, assignment and rate rules. The "math" subelement must contain a MathML expression defining the mathematical formula of the rule. This MathML formula must return a numerical value. The formula can be an arbitrary expression referencing the variables and other entities in an SBML model.</p>
<p>Each of the three subclasses of <a class="el" href="class_rule.html" title="\ @ @ . &lt;&gt;&lt;/&gt; .">Rule</a> (<a class="el" href="class_assignment_rule.html" title="\ @ @ . &lt;&gt; &lt;/&gt; &lt;&gt; = (&lt;&gt;&lt;/&gt;)&lt;/&gt;.">AssignmentRule</a>, <a class="el" href="class_algebraic_rule.html" title="\ @ @ . &lt;&gt; &lt;/&gt; &lt;&gt;0 = (&lt;&gt;&lt;/&gt;)&lt;/&gt;.">AlgebraicRule</a>, <a class="el" href="class_rate_rule.html" title="\ @ @ . &lt;&gt; &lt;/&gt; &lt;&gt;/ = (&lt;&gt;&lt;/&gt;)&lt;/&gt;.">RateRule</a>) inherit the the "math" subelement and other fields from <a class="el" href="class_s_base.html" title="\ @ @ . &#39; &lt;&gt;%&lt;/&gt; , .">SBase</a>. The <a class="el" href="class_assignment_rule.html" title="\ @ @ . &lt;&gt; &lt;/&gt; &lt;&gt; = (&lt;&gt;&lt;/&gt;)&lt;/&gt;.">AssignmentRule</a> and <a class="el" href="class_rate_rule.html" title="\ @ @ . &lt;&gt; &lt;/&gt; &lt;&gt;/ = (&lt;&gt;&lt;/&gt;)&lt;/&gt;.">RateRule</a> classes add an additional attribute, "variable". See the definitions of <a class="el" href="class_assignment_rule.html" title="\ @ @ . &lt;&gt; &lt;/&gt; &lt;&gt; = (&lt;&gt;&lt;/&gt;)&lt;/&gt;.">AssignmentRule</a>, <a class="el" href="class_algebraic_rule.html" title="\ @ @ . &lt;&gt; &lt;/&gt; &lt;&gt;0 = (&lt;&gt;&lt;/&gt;)&lt;/&gt;.">AlgebraicRule</a> and <a class="el" href="class_rate_rule.html" title="\ @ @ . &lt;&gt; &lt;/&gt; &lt;&gt;/ = (&lt;&gt;&lt;/&gt;)&lt;/&gt;.">RateRule</a> for details about the structure and interpretation of each one.</p>
<h1><a class="anchor" id="rules-restrictions"></a>
Additional restrictions on SBML rules</h1>
<p>An important design goal of SBML rule semantics is to ensure that a model's simulation and analysis results will not be dependent on when or how often rules are evaluated. To achieve this, SBML needs to place two restrictions on rule use. The first concerns algebraic loops in the system of assignments in a model, and the second concerns overdetermined systems.</p>
<h2><a class="anchor" id="rules-no-loops"></a>
A model must not contain algebraic loops</h2>
<p>The combined set of <a class="el" href="class_initial_assignment.html" title="\ @ @ . &lt;&gt; &lt;/&gt;, .">InitialAssignment</a>, <a class="el" href="class_assignment_rule.html" title="\ @ @ . &lt;&gt; &lt;/&gt; &lt;&gt; = (&lt;&gt;&lt;/&gt;)&lt;/&gt;.">AssignmentRule</a> and <a class="el" href="class_kinetic_law.html" title="\ @ @ . .">KineticLaw</a> objects in a model constitute a set of assignment statements that should be considered as a whole. (A <a class="el" href="class_kinetic_law.html" title="\ @ @ . .">KineticLaw</a> object is counted as an assignment because it assigns a value to the symbol contained in the "id" attribute of the <a class="el" href="class_reaction.html" title="\ @ @ . .">Reaction</a> object in which it is defined.) This combined set of assignment statements must not contain algebraic loops&mdash;dependency chains between these statements must terminate. To put this more formally, consider a directed graph in which nodes are assignment statements and directed arcs exist for each occurrence of an SBML species, compartment or parameter symbol in an assignment statement's "math" subelement. Let the directed arcs point from the statement assigning the symbol to the statements that contain the symbol in their "math" subelement expressions. This graph must be acyclic.</p>
<p>Similarly, the combined set of <a class="el" href="class_rate_rule.html" title="\ @ @ . &lt;&gt; &lt;/&gt; &lt;&gt;/ = (&lt;&gt;&lt;/&gt;)&lt;/&gt;.">RateRule</a> and <a class="el" href="class_reaction.html" title="\ @ @ . .">Reaction</a> objects constitute a set of definitions for the rates of change of various model entities (namely, the objects identified by the values of the 'variable' attributes of the <a class="el" href="class_rate_rule.html" title="\ @ @ . &lt;&gt; &lt;/&gt; &lt;&gt;/ = (&lt;&gt;&lt;/&gt;)&lt;/&gt;.">RateRule</a> objects, and the 'species' attributes of the <a class="el" href="class_species_reference.html" title="\ @ @ . .">SpeciesReference</a> objects in each <a class="el" href="class_reaction.html" title="\ @ @ . .">Reaction</a>). In SBML Level&#160;3 Version&#160;2, these rates of change may be referenced directly using the <em>rateOf</em> csymbol, but may not thereby contain algebraic loops&mdash;dependency chains between these statements must terminate. More formally, consider a directed graph in which the nodes are the definitions of different variables' rates of change, and directed arcs exist for each occurrence of a variable referenced by a <em>rateOf</em> csymbol from any <a class="el" href="class_rate_rule.html" title="\ @ @ . &lt;&gt; &lt;/&gt; &lt;&gt;/ = (&lt;&gt;&lt;/&gt;)&lt;/&gt;.">RateRule</a> or <a class="el" href="class_kinetic_law.html" title="\ @ @ . .">KineticLaw</a> object in the model. Let the directed arcs point from the variable referenced by the <em>rateOf</em> csymbol (call it <em>x</em>) to the variable(s) determined by the 'math' expression in which <em>x</em> appears. This graph must be acyclic.</p>
<p>SBML does not specify when or how often rules should be evaluated. Eliminating algebraic loops ensures that assignment statements can be evaluated any number of times without the result of those evaluations changing. As an example, consider the set of equations <em>x = x + 1</em>, <em>y = z + 200</em> and <em>z = y + 100</em>. If this set of equations were interpreted as a set of assignment statements, it would be invalid because the rule for <em>x</em> refers to <em>x</em> (exhibiting one type of loop), and the rule for <em>y</em> refers to <em>z</em> while the rule for <em>z</em> refers back to <em>y</em> (exhibiting another type of loop). Conversely, the following set of equations would constitute a valid set of assignment statements: <em>x = 10</em>, <em>y = z + 200</em>, and <em>z = x + 100</em>.</p>
<h2><a class="anchor" id="rules-not-overdetermined"></a>
A model must not be overdetermined</h2>
<p>An SBML model must not be overdetermined; that is, a model must not define more equations than there are unknowns in a model. A valid SBML model that does not contain <a class="el" href="class_algebraic_rule.html" title="\ @ @ . &lt;&gt; &lt;/&gt; &lt;&gt;0 = (&lt;&gt;&lt;/&gt;)&lt;/&gt;.">AlgebraicRule</a> structures cannot be overdetermined.</p>
<p>LibSBML implements the static analysis procedure described in Appendix&#160;B of the SBML Level&#160;3 specification for assessing whether a model is overdetermined.</p>
<p>(In summary, assessing whether a given continuous, deterministic, mathematical model is overdetermined does not require dynamic analysis; it can be done by analyzing the system of equations created from the model. One approach is to construct a bipartite graph in which one set of vertices represents the variables and the other the set of vertices represents the equations. Place edges between vertices such that variables in the system are linked to the equations that determine them. For algebraic equations, there will be edges between the equation and each variable occurring in the equation. For ordinary differential equations (such as those defined by rate rules or implied by the reaction rate definitions), there will be a single edge between the equation and the variable determined by that differential equation. A mathematical model is overdetermined if the maximal matchings of the bipartite graph contain disconnected vertexes representing equations. If one maximal matching has this property, then all the maximal matchings will have this property; i.e., it is only necessary to find one maximal matching.)</p>
<h1><a class="anchor" id="RuleType_t"></a>
Rule types for SBML Level 1</h1>
<p>SBML Level 1 uses a different scheme than SBML Level 2 and Level 3 for distinguishing rules; specifically, it uses an attribute whose value is drawn from an enumeration of 3 values. LibSBML supports this using methods that work a libSBML enumeration type, <a class="el" href="_rule_8h.html#ad5d6b2dda840b827f5c4857296c739a7">RuleType_t</a>, whose values are listed below.</p>
<ul>
<li><a class="el" href="_rule_8h.html#ad5d6b2dda840b827f5c4857296c739a7ae4b2aaaecdabc4d50eadea4e61b09f2d">RULE_TYPE_RATE</a>: Indicates the rule is a "rate" rule. </li>
<li><a class="el" href="_rule_8h.html#ad5d6b2dda840b827f5c4857296c739a7a23d32c5ba722ac969aa49899aedad2e4">RULE_TYPE_SCALAR</a>: Indicates the rule is a "scalar" rule. </li>
<li><a class="el" href="_rule_8h.html#ad5d6b2dda840b827f5c4857296c739a7ad703ec8a3f92b80ae3f118cc96086a35">RULE_TYPE_INVALID</a>: Indicates the rule type is unknown or not yet set. </li>
</ul>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for Doxygen -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
      Visit <a href="http://sbml.org">SBML.org</a> for more information
    about SBML and libSBML.
    </li>
   </ul>
</div>
</body>
</html>
